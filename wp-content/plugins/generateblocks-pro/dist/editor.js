(()=>{var e={2694:(e,t,r)=>{"use strict";var n=r(6925);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,s){if(s!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},5556:(e,t,r)=>{e.exports=r(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},21020:(e,t,r)=>{"use strict";var n=r(51609),a=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var n,l={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!i.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:l,_owner:s.current}}},22799:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},44363:(e,t,r)=>{"use strict";r(22799)},51609:e=>{"use strict";e.exports=window.React},74848:(e,t,r)=>{"use strict";e.exports=r(21020)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.hooks;(0,e.addFilter)("generateblocks.blockStyles.selectors","generateblocks-pro/add-pro-block-selectors",(e=>({...e,"generateblocks-pro/accordion":"accordion","generateblocks-pro/accordion-item":"accordion__item","generateblocks-pro/accordion-toggle":"accordion__toggle","generateblocks-pro/accordion-toggle-icon":"accordion__toggle-icon","generateblocks-pro/accordion-content":"accordion__content","generateblocks-pro/tab-item":"tabs__item","generateblocks-pro/tab-items":"tabs__items","generateblocks-pro/tab-menu-item":"tabs__menu-item","generateblocks-pro/tabs":"tabs","generateblocks-pro/tabs-menu":"tabs__menu","generateblocks-pro/navigation":"navigation","generateblocks-pro/menu-container":"menu-container","generateblocks-pro/classic-menu":"menu","generateblocks-pro/classic-menu-item":"menu-item","generateblocks-pro/classic-sub-menu":"sub-menu","generateblocks-pro/menu-toggle":"menu-toggle","generateblocks-pro/site-header":"site-header","generateblocks-pro/carousel":"carousel","generateblocks-pro/carousel-items":"carousel-items","generateblocks-pro/carousel-pagination":"carousel-pagination","generateblocks-pro/carousel-item":"carousel-item","generateblocks-pro/carousel-control":"carousel-control"})));const t=window.wp.data,n=window.gbp.stylesBuilder,a=(0,t.createReduxStore)("gbp-block-styles-current-style",{reducer:n.currentStyleReducer,actions:n.currentStyleActions,selectors:n.currentStyleSelectors}),o=(0,t.createReduxStore)("gbp-block-styles-at-rule",{reducer:n.atRuleReducer,actions:n.atRuleActions,selectors:n.atRuleSelectors}),s=(0,t.createReduxStore)("gbp-block-styles-nested-rule",{reducer:n.nestedRuleReducer,actions:n.nestedRuleActions,selectors:n.nestedRuleSelectors}),i=(0,t.createReduxStore)("gbp-menu-toggle-state",{reducer:function(e=!1,t){return"SET_DATA"===t.type?t.payload:e},actions:{setMenuToggleState:e=>({type:"SET_DATA",payload:e})},selectors:{menuToggleState:e=>e}});(0,t.register)(a),(0,t.register)(o),(0,t.register)(s),(0,t.register)(i);var l=r(51609),c=r.n(l);const u=window.wp.compose,d=window.wp.blockEditor,p=window.wp.i18n,g=window.wp.components,m=window.wp.element,h=window.wp.primitives,b=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),f=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),y={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let v;const _=new Uint8Array(16);function w(){if(!v&&(v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(_)}const E=[];for(let e=0;e<256;++e)E.push((e+256).toString(16).slice(1));const k=function(e,t,r){if(y.randomUUID&&!t&&!e)return y.randomUUID();const n=(e=e||{}).random||(e.rng||w)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]}(n)},x=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"],C=(wp.element.createElement,e=>e.replace(/[^a-zA-Z0-9-_\.]/g,"")),S=e=>{const t=e.trim(),r=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)\s*=\s*["']([^"']*)["']$/);if(r)return{name:r[1],value:r[2]};const n=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)\s*=\s*(.+)$/);if(n)return{name:n[1],value:n[2]};const a=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)$/);return a&&x.includes(a[1])?{name:a[1],value:""}:null};function I({items:e={},onAdd:t,onRemove:r,onChange:n,label:a=(0,p.__)("HTML Attributes","generateblocks-pro")}){const[o,s]=(0,m.useState)(""),[i,c]=(0,m.useState)(""),[u,d]=(0,m.useState)(""),[h,y]=(0,m.useState)(null),[v,_]=(0,m.useState)(null),w=async()=>{try{if(!navigator.clipboard||!navigator.clipboard.readText)return;const t=(e=>{const t=e.trim(),r=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)\s*=\s*["']([^"']*)["']$/);if(r)return{name:r[1],value:r[2]};const n=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)\s*=\s*([^\s]+)$/);if(n)return{name:n[1],value:n[2]};const a=t.match(/^([a-zA-Z][a-zA-Z0-9-_\.]*)$/);return a&&x.includes(a[1])?{name:a[1],value:""}:null})(await navigator.clipboard.readText());if(t&&"class"!==t.name){const r=C(t.name),n=e[r];void 0===n||n!==t.value?_({...t,isReplacement:void 0!==n}):_(null)}else _(null)}catch(e){_(null)}};return(0,l.createElement)(g.BaseControl,{label:a,id:k()},(0,l.createElement)("div",{className:"gb-html-attributes"},v&&(0,l.createElement)("div",{className:"gb-html-attributes__clipboard-suggestion"},(0,l.createElement)("span",{className:"gb-html-attributes__clipboard-label"},v.isReplacement?(0,p.__)("Replace from clipboard:","generateblocks"):(0,p.__)("Add from clipboard:","generateblocks")),(0,l.createElement)("span",{className:"gb-html-attributes__clipboard-text"},(0,l.createElement)("code",null,v.name,v.value&&`="${v.value}"`),(0,l.createElement)(g.Button,{onClick:()=>{if(!v)return;const{name:r,value:n}=v,a=C(r);t({...e,[a]:n}),_(null),d("")},icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256"},(0,l.createElement)("rect",{width:"256",height:"256",fill:"none"}),(0,l.createElement)("line",{x1:"96",y1:"152",x2:"160",y2:"152",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,l.createElement)("line",{x1:"96",y1:"120",x2:"160",y2:"120",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,l.createElement)("path",{d:"M160,40h40a8,8,0,0,1,8,8V216a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H96",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),(0,l.createElement)("path",{d:"M88,72V64a40,40,0,0,1,80,0v8Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"})),size:"small",iconSize:"16",variant:"secondary",text:v.isReplacement?(0,p.__)("Replace","generateblocks"):(0,p.__)("Add","generateblocks")}))),Object.entries(e).map((([t,a],o)=>(0,l.createElement)("div",{className:"gb-html-attributes__item",key:o},(0,l.createElement)(g.TextControl,{type:"text",value:h&&h.oldKey===t?h.key:t,onChange:e=>((e,t,r)=>{const n=S(e);y(n?{oldKey:t,key:n.name,value:n.value}:{oldKey:t,key:e,value:r})})(e,t,a),title:t,onFocus:w}),(0,l.createElement)(g.TextControl,{type:"text",value:h&&h.oldKey===t?h.value:a,onChange:e=>((e,t,r)=>{const n=S(e);y(n?{oldKey:t,key:n.name,value:n.value}:{oldKey:t,key:r,value:e})})(e,t,t),title:a,onFocus:w}),h&&h.oldKey===t?(0,l.createElement)(g.Button,{onClick:()=>(t=>{const r=h.key.startsWith("data-");if(!h.value&&!x.includes(h.key)&&!r&&"alt"!==h.key)return void d("Attribute value is required.");if("class"===h.key)return void d("Class attribute is not allowed.");if(!h.key)return void d("Attribute name is required.");const a={...e};delete a[t],a[C(h.key)]=h.value,n(a),y(null),d("")})(t),icon:b,size:"small",iconSize:"20",variant:"primary"}):(0,l.createElement)(g.Button,{onClick:()=>(t=>{const n={...e};delete n[t],r(n)})(t),icon:f,size:"small",iconSize:"20",isDestructive:!0})))),(0,l.createElement)("div",{className:"gb-html-attributes__item"},(0,l.createElement)(g.TextControl,{type:"text",value:o,onChange:e=>{const t=S(e);t?(s(t.name),c(t.value)):s(e)},placeholder:(0,p.__)("Name","generateblocks-pro"),onFocus:w}),(0,l.createElement)(g.TextControl,{type:"text",value:i,onChange:e=>{const t=S(e);t?(s(t.name),c(t.value)):c(e)},placeholder:(0,p.__)("Value","generateblocks-pro"),onFocus:w}),(0,l.createElement)(g.Button,{onClick:()=>{const r=o.startsWith("data-");i||x.includes(o)||r||"alt"===o?"class"!==o?o?(t({...e,[C(o)]:i}),s(""),c(""),d("")):d("Attribute name is required."):d("Class attribute is not allowed."):d("Attribute value is required.")},icon:b,size:"small",iconSize:"20",disabled:!o,variant:"primary",style:{display:o||Object.keys(e).length?"":"none",opacity:!o&&Object.keys(e).length?0:1}})),u&&(0,l.createElement)("div",{className:"error-message"},u)))}const O=window.wp.htmlEntities;var N=r(74848),R=l.createContext(void 0),M=e=>{const t=l.useContext(R);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},T=({client:e,children:t})=>(l.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),(0,N.jsx)(R.Provider,{value:e,children:t}));const A=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),P=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function D({currentView:e,views:t={},className:r="",minHeight:n=400,viewOrder:a=[]}){const[o,s]=(0,m.useState)(e),[i,c]=(0,m.useState)(!1),[u,d]=(0,m.useState)(!1),[p,g]=(0,m.useState)("forward");(0,m.useEffect)((()=>{u||d(!0)}),[]),(0,m.useEffect)((()=>{if(u&&o!==e){const t=a.indexOf(e),r=a.indexOf(o);g(-1!==t&&-1!==r?t>r?"forward":"backward":"forward"),c(!0);const n=setTimeout((()=>{c(!1),s(e)}),260);return()=>clearTimeout(n)}}),[e,o,u,a]);const h=["gb-navigator",r,i?"gb-navigator--transitioning":"",i?`gb-navigator--${p}`:""].filter(Boolean).join(" ");return(0,l.createElement)("div",{className:h,style:{minHeight:`${n}px`}},Object.entries(t).map((([t,r])=>{const n=t===e,a=["gb-navigator-view",`gb-navigator-view--${t}`,n?"gb-navigator-view--active":"gb-navigator-view--inactive"].join(" ");return(0,l.createElement)("div",{key:t,className:a,"aria-hidden":!n},(n||i)&&r)})))}function B({trigger:e,itemId:t=null,itemType:r="item",dashboardView:n,editorView:a,onItemSelect:o=null,getNewTabUrl:s,modalProps:i={},labels:c={},className:u="",confirmMessages:d}){const h={backButton:(0,p.__)("Back to Dashboard","generateblocks-pro"),createNew:(0,p.__)("Create New Item","generateblocks-pro"),edit:(0,p.__)("Edit Item","generateblocks-pro"),dashboard:(0,p.__)("Dashboard","generateblocks-pro"),openInNewTab:(0,p.__)("Open in new tab","generateblocks-pro"),close:(0,p.__)("Close","generateblocks-pro"),unsavedChanges:(0,p.__)("Unsaved changes","generateblocks-pro"),...c},{isOpen:b,setIsOpen:f,currentView:y,contentHeight:v,selectedItemId:_,selectedItemTitle:w,selectedItemData:E,hasUnsavedChanges:k,setHasUnsavedChanges:x,headerRef:C,modalRef:S,handleItemSelect:I,handleBackToDashboard:O,handleBackToDashboardAfterSave:N,handleOpenInNewTab:R,handleClose:M}=function({itemId:e=null,onItemSelect:t=null,getNewTabUrl:r,confirmMessages:n={unsavedBack:(0,p.__)("You have unsaved changes. Are you sure you want to go back?","generateblocks-pro"),unsavedClose:(0,p.__)("You have unsaved changes. Are you sure you want to close?","generateblocks-pro")}}){const[a,o]=(0,m.useState)(!1),[s,i]=(0,m.useState)(e?"editor":"dashboard"),[l,c]=(0,m.useState)(0),[u,d]=(0,m.useState)(e),[g,h]=(0,m.useState)(""),[b,f]=(0,m.useState)(null),[y,v]=(0,m.useState)(!1),_=(0,m.useRef)(null),w=(0,m.useRef)(null),E=(0,m.useRef)(!1);(0,m.useEffect)((()=>{E.current||(d(e),i(e?"editor":"dashboard")),E.current=!1}),[e]);const k=(0,m.useCallback)(((e,r,n)=>{d(e),h(r||""),f(n||null),i("editor"),t&&t(e,r,n)}),[t]),x=(0,m.useCallback)((()=>{y&&!window.confirm(n.unsavedBack)||(E.current=!0,i("dashboard"),d(null),h(""),f(null),v(!1))}),[y,n.unsavedBack]),C=(0,m.useCallback)((()=>{E.current=!0,i("dashboard"),d(null),h(""),f(null),v(!1)}),[]),S=(0,m.useCallback)((()=>{if("editor"===s&&u&&r){const e=r(u,b);e&&window.open(e,"_blank")}}),[s,u,b,r]),I=(0,m.useCallback)((()=>{"editor"===s&&y&&!window.confirm(n.unsavedClose)||(o(!1),setTimeout((()=>{i(e?"editor":"dashboard"),d(e),h(""),v(!1)}),300))}),[s,y,n.unsavedClose,e]);return(0,m.useEffect)((()=>{const e=()=>{if(!w.current||!_.current||!a)return;const e=w.current.querySelector(".components-modal__content"),t=_.current;if(e&&t){const r=e.clientHeight,n=t.offsetHeight;c(r-n)}};if(a){e();const t=new ResizeObserver(e);return w.current&&t.observe(w.current),_.current&&t.observe(_.current),window.addEventListener("resize",e),()=>{t.disconnect(),window.removeEventListener("resize",e)}}}),[a]),(0,m.useEffect)((()=>{const e=e=>{"Escape"===e.key&&a&&(e.preventDefault(),I())};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[a,I]),{isOpen:a,setIsOpen:o,currentView:s,setCurrentView:i,contentHeight:l,selectedItemId:u,selectedItemTitle:g,selectedItemData:b,hasUnsavedChanges:y,setHasUnsavedChanges:v,headerRef:_,modalRef:w,handleItemSelect:k,handleBackToDashboard:x,handleBackToDashboardAfterSave:C,handleOpenInNewTab:S,handleClose:I}}({itemId:t,onItemSelect:o,getNewTabUrl:s,confirmMessages:d}),T={dashboard:n&&(0,m.cloneElement)(n,{isModalMode:!0,isIframeMode:!0,onItemSelect:e=>{"object"==typeof e&&e.id&&I(e.id,e.title?.rendered||e.title||"")},onCreateItem:()=>I("new",h.createNew),onConditionSelect:e=>{I(e.id,e.title?.rendered||"",e)},onCreateCondition:()=>I("new",h.createNew),onModalSelect:(e,t)=>{I(e,t)},onCreateOverlay:(e,t)=>I(e||"new",h.createNew,{overlayType:t})}),editor:a&&_&&(0,m.cloneElement)(a,{embedded:!0,onUnsavedChanges:x,conditionId:"new"===_?null:_,isNew:"new"===_,onNavigateBack:O,onSave:N,overlayId:_,overlayTitle:w,overlayType:E?.overlayType,onClose:O})},B={title:"",className:`gb-dashboard-trigger-modal ${u}`,isFullScreen:!0,isDismissible:!1,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,showHeader:!1,...i};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{onClick:()=>f(!0),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),f(!0))}},e),b&&(0,l.createElement)(g.Modal,{...B,onRequestClose:()=>{},ref:S},(0,l.createElement)("div",{className:"gb-dashboard-custom-header",ref:C,"data-item-type":r},(0,l.createElement)("div",{className:"gb-dashboard-header-left"},"editor"===y&&(0,l.createElement)(g.Button,{icon:"arrow-left-alt2",size:"compact",variant:"tertiary",onClick:O,label:h.backButton}),(0,l.createElement)("h2",{className:"gb-dashboard-custom-title"},(()=>{if("editor"===y){const e="new"===_?h.createNew:h.edit;return w&&"new"!==_?`${e}: ${w}`:e}return h.dashboard})())),(0,l.createElement)("div",{className:"gb-dashboard-header-actions"},k&&"editor"===y&&(0,l.createElement)("span",{className:"gb-dashboard-unsaved-indicator"},h.unsavedChanges),"editor"===y&&s&&(0,l.createElement)(g.Button,{icon:A,size:"compact",variant:"tertiary",onClick:R,label:h.openInNewTab}),(0,l.createElement)(g.Button,{icon:P,size:"compact",variant:"tertiary",onClick:M,label:h.close}))),(0,l.createElement)("div",{className:"gb-dashboard-content-wrapper",style:{height:v>0?`${v}px`:"auto",minHeight:v>0?`${v}px`:"auto"}},(0,l.createElement)(D,{currentView:y,views:T,className:"gb-dashboard-navigator",minHeight:0,viewOrder:["dashboard","editor"]}))))}const L=(0,m.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(h.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));var F=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},V="undefined"==typeof window||"Deno"in globalThis;function q(){}function $(e){return"number"==typeof e&&e>=0&&e!==1/0}function H(e,t){return Math.max(e+(t||0)-Date.now(),0)}function z(e,t){return"function"==typeof e?e(t):e}function U(e,t){return"function"==typeof e?e(t):e}function j(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:s,stale:i}=e;if(s)if(n){if(t.queryHash!==Q(s,t.options))return!1}else if(!Z(t.queryKey,s))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return!("boolean"==typeof i&&t.isStale()!==i||a&&a!==t.state.fetchStatus||o&&!o(t))}function K(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(W(t.options.mutationKey)!==W(o))return!1}else if(!Z(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Q(e,t){return(t?.queryKeyHashFn||W)(e)}function W(e){return JSON.stringify(e,((e,t)=>X(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function Z(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every((r=>Z(e[r],t[r])))}function G(e,t){if(e===t)return e;const r=J(e)&&J(t);if(r||X(e)&&X(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),s=o.length,i=r?[]:{};let l=0;for(let a=0;a<s;a++){const s=r?a:o[a];(!r&&n.includes(s)||r)&&void 0===e[s]&&void 0===t[s]?(i[s]=void 0,l++):(i[s]=G(e[s],t[s]),i[s]===e[s]&&void 0!==e[s]&&l++)}return a===s&&l===a?e:i}return t}function Y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function J(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function X(e){if(!ee(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!ee(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function ee(e){return"[object Object]"===Object.prototype.toString.call(e)}function te(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?G(e,t):t}function re(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ae=Symbol();function oe(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ae?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function se(e,t){return"function"==typeof e?e(...t):!!e}var ie=new class extends F{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!V&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},le=e=>setTimeout(e,0),ce=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},a=le;const o=n=>{t?e.push(n):a((()=>{r(n)}))};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a((()=>{n((()=>{t.forEach((e=>{r(e)}))}))}))})()}return s},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{a=e}}}(),ue=new class extends F{#n=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!V&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#n!==e&&(this.#n=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#n}};function de(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}function pe(e){return Math.min(1e3*2**e,3e4)}function ge(e){return"online"!==(e??"online")||ue.isOnline()}var me=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function he(e){return e instanceof me}function be(e){let t,r=!1,n=0,a=!1;const o=de(),s=()=>ie.isFocused()&&("always"===e.networkMode||ue.isOnline())&&e.canRun(),i=()=>ge(e.networkMode)&&e.canRun(),l=r=>{a||(a=!0,e.onSuccess?.(r),t?.(),o.resolve(r))},c=r=>{a||(a=!0,e.onError?.(r),t?.(),o.reject(r))},u=()=>new Promise((r=>{t=e=>{(a||s())&&r(e)},e.onPause?.()})).then((()=>{t=void 0,a||e.onContinue?.()})),d=()=>{if(a)return;let t;const o=0===n?e.initialPromise:void 0;try{t=o??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(l).catch((t=>{if(a)return;const o=e.retry??(V?0:3),i=e.retryDelay??pe,l="function"==typeof i?i(n,t):i,p=!0===o||"number"==typeof o&&n<o||"function"==typeof o&&o(n,t);var g;!r&&p?(n++,e.onFail?.(n,t),(g=l,new Promise((e=>{setTimeout(e,g)}))).then((()=>s()?void 0:u())).then((()=>{r?c(t):d()}))):c(t)}))};return{promise:o,cancel:t=>{a||(c(new me(t)),e.abort?.())},continue:()=>(t?.(),o),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:i,start:()=>(i()?d():u().then(d),o)}}var fe=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$(this.gcTime)&&(this.#a=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(V?1/0:3e5))}clearGcTimeout(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}},ye=class extends fe{#o;#s;#i;#l;#c;#u;#d;constructor(e){super(),this.#d=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#i=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#i.remove(this)}setData(e,t){const r=te(this.state.data,e,this.options);return this.#p({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(q).catch(q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some((e=>!1!==U(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ae||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!H(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#c&&(this.#d?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,r.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const e=oe(this.options,t),r={client:this.#l,queryKey:this.queryKey,meta:this.meta};return n(r),this.#d=!1,this.options.persister?this.options.persister(e,r,this):e(r)}};n(a),this.options.behavior?.onFetch(a,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===a.fetchOptions?.meta||this.#p({type:"fetch",meta:a.fetchOptions?.meta});const o=e=>{he(e)&&e.silent||this.#p({type:"error",error:e}),he(e)||(this.#i.config.onError?.(e,this),this.#i.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=be({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(e){return void o(e)}this.#i.config.onSuccess?.(e,this),this.#i.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else o(new Error(`${this.queryHash} data is undefined`))},onError:o,onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#c.start()}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ve(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return he(r)&&r.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),ce.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#i.notify({query:this,type:"updated",action:e})}))}};function ve(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ge(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var _e=class extends F{constructor(e,t){super(),this.options=t,this.#l=e,this.#g=null,this.#m=de(),this.options.experimental_prefetchInRender||this.#m.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#h=void 0;#b=void 0;#f=void 0;#y;#v;#m;#g;#_;#w;#E;#k;#x;#C;#S=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#h.addObserver(this),we(this.#h,this.options)?this.#I():this.updateResult(),this.#O())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ee(this.#h,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ee(this.#h,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#N(),this.#R(),this.#h.removeObserver(this)}setOptions(e){const t=this.options,r=this.#h;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof U(this.options.enabled,this.#h))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#M(),this.#h.setOptions(this.options),t._defaulted&&!Y(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#h,observer:this});const n=this.hasListeners();n&&ke(this.#h,r,this.options,t)&&this.#I(),this.updateResult(),!n||this.#h===r&&U(this.options.enabled,this.#h)===U(t.enabled,this.#h)&&z(this.options.staleTime,this.#h)===z(t.staleTime,this.#h)||this.#T();const a=this.#A();!n||this.#h===r&&U(this.options.enabled,this.#h)===U(t.enabled,this.#h)&&a===this.#C||this.#P(a)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),r=this.createResult(t,e);return n=r,!Y(this.getCurrentResult(),n)&&(this.#f=r,this.#v=this.options,this.#y=this.#h.state),r;var n}getCurrentResult(){return this.#f}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#S.add(e)}getCurrentQuery(){return this.#h}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),r=this.#l.getQueryCache().build(this.#l,t);return r.fetch().then((()=>this.createResult(r,t)))}fetch(e){return this.#I({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#f)))}#I(e){this.#M();let t=this.#h.fetch(this.options,e);return e?.throwOnError||(t=t.catch(q)),t}#T(){this.#N();const e=z(this.options.staleTime,this.#h);if(V||this.#f.isStale||!$(e))return;const t=H(this.#f.dataUpdatedAt,e)+1;this.#k=setTimeout((()=>{this.#f.isStale||this.updateResult()}),t)}#A(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#h):this.options.refetchInterval)??!1}#P(e){this.#R(),this.#C=e,!V&&!1!==U(this.options.enabled,this.#h)&&$(this.#C)&&0!==this.#C&&(this.#x=setInterval((()=>{(this.options.refetchIntervalInBackground||ie.isFocused())&&this.#I()}),this.#C))}#O(){this.#T(),this.#P(this.#A())}#N(){this.#k&&(clearTimeout(this.#k),this.#k=void 0)}#R(){this.#x&&(clearInterval(this.#x),this.#x=void 0)}createResult(e,t){const r=this.#h,n=this.options,a=this.#f,o=this.#y,s=this.#v,i=e!==r?e.state:this.#b,{state:l}=e;let c,u={...l},d=!1;if(t._optimisticResults){const a=this.hasListeners(),o=!a&&we(e,t),s=a&&ke(e,r,t,n);(o||s)&&(u={...u,...ve(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:m}=u;c=u.data;let h=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===m){let e;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=a.data,h=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#E?.state.data,this.#E):t.placeholderData,void 0!==e&&(m="success",c=te(a?.data,e,t),d=!0)}if(t.select&&void 0!==c&&!h)if(a&&c===o?.data&&t.select===this.#_)c=this.#w;else try{this.#_=t.select,c=t.select(c),c=te(a?.data,c,t),this.#w=c,this.#g=null}catch(e){this.#g=e}this.#g&&(p=this.#g,c=this.#w,g=Date.now(),m="error");const b="fetching"===u.fetchStatus,f="pending"===m,y="error"===m,v=f&&b,_=void 0!==c,w={status:m,fetchStatus:u.fetchStatus,isPending:f,isSuccess:"success"===m,isError:y,isInitialLoading:v,isLoading:v,data:c,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>i.dataUpdateCount||u.errorUpdateCount>i.errorUpdateCount,isFetching:b,isRefetching:b&&!f,isLoadingError:y&&!_,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:y&&_,isStale:xe(e,t),refetch:this.refetch,promise:this.#m};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},n=()=>{const e=this.#m=w.promise=de();t(e)},a=this.#m;switch(a.status){case"pending":e.queryHash===r.queryHash&&t(a);break;case"fulfilled":"error"!==w.status&&w.data===a.value||n();break;case"rejected":"error"===w.status&&w.error===a.reason||n()}}return w}updateResult(){const e=this.#f,t=this.createResult(this.#h,this.options);this.#y=this.#h.state,this.#v=this.options,void 0!==this.#y.data&&(this.#E=this.#h),Y(t,e)||(this.#f=t,this.#D({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#S.size)return!0;const n=new Set(r??this.#S);return this.options.throwOnError&&n.add("error"),Object.keys(this.#f).some((t=>{const r=t;return this.#f[r]!==e[r]&&n.has(r)}))})()}))}#M(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#h)return;const t=this.#h;this.#h=e,this.#b=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#O()}#D(e){ce.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#f)})),this.#l.getQueryCache().notify({query:this.#h,type:"observerResultsUpdated"})}))}};function we(e,t){return function(e,t){return!1!==U(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Ee(e,t,t.refetchOnMount)}function Ee(e,t,r){if(!1!==U(t.enabled,e)){const n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&xe(e,t)}return!1}function ke(e,t,r,n){return(e!==t||!1===U(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&xe(e,r)}function xe(e,t){return!1!==U(t.enabled,e)&&e.isStaleByTime(z(t.staleTime,e))}var Ce=l.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Se=l.createContext(!1),Ie=(Se.Provider,(e,t,r)=>t.fetchOptimistic(e).catch((()=>{r.clearReset()})));function Oe(e,t){return function(e,t,r){const n=M(r),a=l.useContext(Se),o=l.useContext(Ce),s=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=a?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"==typeof t?(...e)=>Math.max(t(...e),1e3):Math.max(t??1e3,1e3),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(s),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(s,o),(e=>{l.useEffect((()=>{e.clearReset()}),[e])})(o);const i=!n.getQueryCache().get(s.queryHash),[c]=l.useState((()=>new t(n,s))),u=c.getOptimisticResult(s),d=!a&&!1!==e.subscribed;if(l.useSyncExternalStore(l.useCallback((e=>{const t=d?c.subscribe(ce.batchCalls(e)):q;return c.updateResult(),t}),[c,d]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),l.useEffect((()=>{c.setOptions(s)}),[s,c]),((e,t)=>e?.suspense&&t.isPending)(s,u))throw Ie(s,c,o);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&void 0===e.data||se(r,[e.error,n])))({result:u,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!V&&((e,t)=>e.isLoading&&e.isFetching&&!t)(u,a)){const e=i?Ie(s,c,o):n.getQueryCache().get(s.queryHash)?.promise;e?.catch(q).finally((()=>{c.updateResult()}))}return s.notifyOnChangeProps?u:c.trackResult(u)}(e,_e,t)}var Ne=class extends fe{#B;#L;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#L=e.mutationCache,this.#B=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#B.includes(e)||(this.#B.push(e),this.clearGcTimeout(),this.#L.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#B=this.#B.filter((t=>t!==e)),this.scheduleGc(),this.#L.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#B.length||("pending"===this.state.status?this.scheduleGc():this.#L.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#p({type:"continue"})};this.#c=be({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#L.canRun(this)});const r="pending"===this.state.status,n=!this.#c.canStart();try{if(r)t();else{this.#p({type:"pending",variables:e,isPaused:n}),await(this.#L.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#p({type:"pending",context:t,variables:e,isPaused:n})}const a=await this.#c.start();return await(this.#L.config.onSuccess?.(a,e,this.state.context,this)),await(this.options.onSuccess?.(a,e,this.state.context)),await(this.#L.config.onSettled?.(a,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(a,null,e,this.state.context)),this.#p({type:"success",data:a}),a}catch(t){try{throw await(this.#L.config.onError?.(t,e,this.state.context,this)),await(this.options.onError?.(t,e,this.state.context)),await(this.#L.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,t,e,this.state.context)),t}finally{this.#p({type:"error",error:t})}}finally{this.#L.runNext(this)}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),ce.batch((()=>{this.#B.forEach((t=>{t.onMutationUpdate(e)})),this.#L.notify({mutation:this,type:"updated",action:e})}))}},Re=class extends F{#l;#f=void 0;#F;#V;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#q()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),Y(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#F,observer:this}),t?.mutationKey&&this.options.mutationKey&&W(t.mutationKey)!==W(this.options.mutationKey)?this.reset():"pending"===this.#F?.state.status&&this.#F.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#F?.removeObserver(this)}onMutationUpdate(e){this.#q(),this.#D(e)}getCurrentResult(){return this.#f}reset(){this.#F?.removeObserver(this),this.#F=void 0,this.#q(),this.#D()}mutate(e,t){return this.#V=t,this.#F?.removeObserver(this),this.#F=this.#l.getMutationCache().build(this.#l,this.options),this.#F.addObserver(this),this.#F.execute(e)}#q(){const e=this.#F?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#f={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#D(e){ce.batch((()=>{if(this.#V&&this.hasListeners()){const t=this.#f.variables,r=this.#f.context;"success"===e?.type?(this.#V.onSuccess?.(e.data,t,r),this.#V.onSettled?.(e.data,null,t,r)):"error"===e?.type&&(this.#V.onError?.(e.error,t,r),this.#V.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach((e=>{e(this.#f)}))}))}};function Me(e,t){const r=M(t),[n]=l.useState((()=>new Re(r,e)));l.useEffect((()=>{n.setOptions(e)}),[n,e]);const a=l.useSyncExternalStore(l.useCallback((e=>n.subscribe(ce.batchCalls(e))),[n]),(()=>n.getCurrentResult()),(()=>n.getCurrentResult())),o=l.useCallback(((e,t)=>{n.mutate(e,t).catch(q)}),[n]);if(a.error&&se(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const Te=window.wp.apiFetch;var Ae=r.n(Te),Pe=class extends F{constructor(e={}){super(),this.config=e,this.#$=new Map}#$;build(e,t,r){const n=t.queryKey,a=t.queryHash??Q(n,t);let o=this.get(a);return o||(o=new ye({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#$.has(e.queryHash)||(this.#$.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#$.get(e.queryHash);t&&(e.destroy(),t===e&&this.#$.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ce.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#$.get(e)}getAll(){return[...this.#$.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>j(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>j(e,t))):t}notify(e){ce.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){ce.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){ce.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},De=class extends F{constructor(e={}){super(),this.config=e,this.#H=new Set,this.#z=new Map,this.#U=0}#H;#z;#U;build(e,t,r){const n=new Ne({mutationCache:this,mutationId:++this.#U,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#H.add(e);const t=Be(e);if("string"==typeof t){const r=this.#z.get(t);r?r.push(e):this.#z.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#H.delete(e)){const t=Be(e);if("string"==typeof t){const r=this.#z.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#z.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Be(e);if("string"==typeof t){const r=this.#z.get(t),n=r?.find((e=>"pending"===e.state.status));return!n||n===e}return!0}runNext(e){const t=Be(e);if("string"==typeof t){const r=this.#z.get(t)?.find((t=>t!==e&&t.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){ce.batch((()=>{this.#H.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#H.clear(),this.#z.clear()}))}getAll(){return Array.from(this.#H)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>K(t,e)))}findAll(e={}){return this.getAll().filter((t=>K(e,t)))}notify(e){ce.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return ce.batch((()=>Promise.all(e.map((e=>e.continue().catch(q))))))}};function Be(e){return e.options.scope?.id}function Le(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let i={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=oe(t.options,t.fetchOptions),u=async(e,n,a)=>{if(r)return Promise.reject();if(null==n&&e.pages.length)return Promise.resolve(e);const o={client:t.client,queryKey:t.queryKey,pageParam:n,direction:a?"backward":"forward",meta:t.options.meta};var s;s=o,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)});const i=await c(o),{maxPages:l}=t.options,u=a?ne:re;return{pages:u(e.pages,i,l),pageParams:u(e.pageParams,n,l)}};if(a&&o.length){const e="backward"===a,t={pages:o,pageParams:s},r=(e?Ve:Fe)(n,t);i=await u(t,r,e)}else{const t=e??o.length;do{const e=0===l?s[0]??n.initialPageParam:Fe(n,i);if(l>0&&null==e)break;i=await u(i,e),l++}while(l<t)}return i};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function Fe(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Ve(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var qe=class{#j;#L;#u;#K;#Q;#W;#Z;#G;constructor(e={}){this.#j=e.queryCache||new Pe,this.#L=e.mutationCache||new De,this.#u=e.defaultOptions||{},this.#K=new Map,this.#Q=new Map,this.#W=0}mount(){this.#W++,1===this.#W&&(this.#Z=ie.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#j.onFocus())})),this.#G=ue.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#j.onOnline())})))}unmount(){this.#W--,0===this.#W&&(this.#Z?.(),this.#Z=void 0,this.#G?.(),this.#G=void 0)}isFetching(e){return this.#j.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#L.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#j.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#j.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(z(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#j.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=this.#j.get(n.queryHash),o=a?.state.data,s=function(e,t){return"function"==typeof e?e(t):e}(t,o);if(void 0!==s)return this.#j.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ce.batch((()=>this.#j.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#j.get(t.queryHash)?.state}removeQueries(e){const t=this.#j;ce.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=this.#j;return ce.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ce.batch((()=>this.#j.findAll(e).map((e=>e.cancel(r)))));return Promise.all(n).then(q).catch(q)}invalidateQueries(e,t={}){return ce.batch((()=>(this.#j.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ce.batch((()=>this.#j.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(q)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(n).then(q)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#j.build(this,t);return r.isStaleByTime(z(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(q).catch(q)}fetchInfiniteQuery(e){return e.behavior=Le(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(q).catch(q)}ensureInfiniteQueryData(e){return e.behavior=Le(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ue.isOnline()?this.#L.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#j}getMutationCache(){return this.#L}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#K.set(W(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#K.values()],r={};return t.forEach((t=>{Z(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){this.#Q.set(W(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#Q.values()],r={};return t.forEach((t=>{Z(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Q(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ae&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#j.clear(),this.#L.clear()}};let $e=null;function He(){return $e||($e=new qe({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,retry:1,refetchOnWindowFocus:!0}}})),$e}function ze(){const e=He();if(e.invalidateQueries({queryKey:["conditions"]}),e.invalidateQueries({queryKey:["condition"]}),window.dispatchEvent(new CustomEvent("gb-invalidate-conditions")),window.parent&&window.parent!==window)try{window.parent.postMessage({type:"gb_invalidate_conditions"},"*")}catch(e){}}function Ue({status:e="publish",perPage:t=200,page:r=1,category:n=""}={}){return Oe({queryKey:["overlays",{status:e,perPage:t,page:r,category:n}],queryFn:async()=>{const a=new URLSearchParams({per_page:t,page:r,_fields:"id,title,trigger_info,status,date,modified,admin_edit_url,gblocks_overlay_cat,overlay_type,display_condition,display_condition_invert",orderby:"date",order:"desc"});"any"===e?a.append("status","publish,draft,pending,private,future"):a.append("status",e),n&&a.append("gblocks_overlay_cat",n);const o=await Ae()({path:`/wp/v2/gblocks_overlay?${a.toString()}`,parse:!1});return{overlays:await o.json(),totalPages:parseInt(o.headers.get("X-WP-TotalPages")||"1",10),totalItems:parseInt(o.headers.get("X-WP-Total")||"0",10)}},staleTime:12e4,cacheTime:3e5})}"undefined"!=typeof window&&(window.addEventListener("gb-invalidate-conditions",(()=>{He().invalidateQueries({queryKey:["conditions"]})})),window.addEventListener("message",(e=>{"gb_invalidate_conditions"===e.data?.type&&He().invalidateQueries({queryKey:["conditions"]})})),window.addEventListener("gb-overlay-saved-global",(e=>{const t=He();t.invalidateQueries({queryKey:["overlays"]}),e.detail?.overlayId&&t.invalidateQueries({queryKey:["overlay",e.detail.overlayId]})})));const je=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})),Ke=window.gbp.components;function Qe(e=100,t=1){return Oe({queryKey:["conditions",{perPage:e,page:t}],queryFn:()=>async function({perPage:e=100,page:t=1}){const r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/?page=${t}&per_page=${e}`});if(r.success)return r.response;throw new Error("Failed to fetch conditions")}({perPage:e,page:t}),select:e=>({conditions:e?.conditions||[],total:e?.total||0,pages:e?.pages||1})})}function We(){const e=Oe({queryKey:["condition-metadata","types"],queryFn:async()=>{const e=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/get_condition_types"});if(e.success)return e.response;throw new Error("Failed to fetch condition types")},staleTime:6e5}),t=(0,m.useCallback)((async e=>{if(!e)return[];const t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/get_condition_rules?type=${e}`});if(t.success)return t.response;throw new Error("Failed to fetch condition rules")}),[]),r=(0,m.useCallback)((async(e,t)=>{if(!e||!t)return[];const r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/get_condition_operators?type=${e}&rule=${t}`});if(r.success)return r.response;throw new Error("Failed to fetch condition operators")}),[]);return{conditionTypes:e.data||{},loading:e.isLoading,error:e.error,getRulesForType:t,getOperatorsForType:r}}const Ze=window.wp.url;function Ge(e="",t={}){const r=`${function(){if("undefined"==typeof window)return"/wp-admin/";if(window.ajaxurl)try{const e=new URL(window.ajaxurl,window.location.origin),t=e.pathname.replace(/admin-ajax\.php$/,"");return`${e.origin}${t}`}catch(e){}const{origin:e,pathname:t}=window.location,r=t.indexOf("/wp-admin");return-1!==r?`${e}${t.substring(0,r)}/wp-admin/`:`${e}/wp-admin/`}().replace(/\/+$/,"/")}${e.replace(/^\/+/,"")}`;return t&&0!==Object.keys(t).length?(0,Ze.addQueryArgs)(r,t):r}function Ye({onSelectKey:e,overlays:t,refreshKey:r,isIframeMode:n=!1,onOverlaySelect:a=null}){const o=function(){const e=He();return Me({mutationFn:async e=>{const t=await Ae()({path:`/wp/v2/gblocks_overlay/${e}`,method:"DELETE",data:{force:!0}});if(!t||!t.deleted)throw console.error("Delete failed - invalid response:",t),new Error("Failed to delete overlay panel");return t},onSuccess:(t,r)=>{e.removeQueries({queryKey:["overlay",r]}),e.invalidateQueries({queryKey:["overlays"]})},onError:e=>{console.error("Delete overlay panel mutation error:",e)}})}(),s=function(){const e=He();return Me({mutationFn:async({id:e,status:t})=>Ae()({path:`/wp/v2/gblocks_overlay/${e}`,method:"POST",data:{status:t}}),onSuccess:t=>{e.invalidateQueries({queryKey:["overlay",t.id]}),e.invalidateQueries({queryKey:["overlays"]})}})}(),i=function(){const e=He();return Me({mutationFn:async e=>{const t=await Ae()({path:`/wp/v2/gblocks_overlay/${e}?context=edit`});return await Ae()({path:"/wp/v2/gblocks_overlay",method:"POST",data:{title:t.title.raw+" (Copy)",content:t.content.raw,status:"draft",meta:t.meta,gblocks_overlay_cat:t.gblocks_overlay_cat}})},onSuccess:()=>{e.invalidateQueries({queryKey:["overlays"]})},onError:e=>{console.error("Duplicate overlay panel mutation error:",e)}})}(),[c,u]=(0,m.useState)(null),[d,h]=(0,m.useState)([]),[b,f]=(0,m.useState)({}),{data:y,isLoading:v}=Qe(100,1),_=He();(0,m.useEffect)((()=>{Ae()({path:"/wp/v2/overlay-categories?per_page=100"}).then((e=>{h(e)})).catch((e=>{console.error("Error loading categories:",e)}))}),[r]),(0,m.useEffect)((()=>{if(y?.conditions){const e={};y.conditions.forEach((t=>{let r="";"object"==typeof t.title&&t.title?.rendered?r=t.title.rendered:"string"==typeof t.title&&(r=t.title),e[t.id]=r})),f(e)}}),[y]);const w=(0,m.useMemo)((()=>[{id:"name",header:(0,p.__)("Name","generateblocks-pro"),accessorKey:"title.rendered",cell:e=>{const{admin_edit_url:t,id:r,title:o,status:s}=e.row.original;let i="";"object"==typeof o&&null!==o?"object"==typeof o.rendered&&void 0!==o.rendered?.rendered?i=o.rendered.rendered:void 0!==o.rendered&&(i=o.rendered):"string"==typeof o&&(i=o),i&&""!==i.trim()||(i=(0,p.__)("(Untitled)","generateblocks-pro"));const c="draft"===s;return n&&a?(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,l.createElement)(g.Button,{variant:"link",onClick:()=>a(r,i),style:{textDecoration:"none",padding:0,minHeight:"auto"}},(0,O.decodeEntities)(i)),c&&(0,l.createElement)("span",{style:{color:"#999",fontSize:"0.9em"}},"(",(0,p.__)("draft","generateblocks-pro"),")")):(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,l.createElement)("a",{href:t},(0,O.decodeEntities)(i)),c&&(0,l.createElement)("span",{style:{color:"#999",fontSize:"0.9em"}},"(",(0,p.__)("draft","generateblocks-pro"),")"))}},{id:"type",header:(0,p.__)("Overlay Panel Type","generateblocks-pro"),accessorKey:"overlay_type",cell:e=>{const t=e.getValue()||"standard",r={standard:(0,p.__)("Standard","generateblocks-pro"),anchored:(0,p.__)("Anchored","generateblocks-pro"),"mega-menu":(0,p.__)("Mega Menu","generateblocks-pro")};return(0,l.createElement)("span",{className:"gb-modal-type"},r[t]||t)}},{id:"category",header:(0,p.__)("Category","generateblocks-pro"),accessorKey:"gblocks_overlay_cat",cell:e=>{const t=e.getValue()||[],r=t.length>0?t[0]:null;if(!r)return(0,l.createElement)("span",{className:"gb-condition-category gb-condition-category--uncategorized"},(0,p.__)("Uncategorized","generateblocks-pro"));const n=d.find((e=>e.id===r)),a=n?n.name:"";return a?(0,l.createElement)("span",{className:"gb-condition-category"},a):(0,l.createElement)("span",{className:"gb-condition-category gb-condition-category--uncategorized"},(0,p.__)("Uncategorized","generateblocks-pro"))}},{id:"condition",header:(0,p.__)("Display Condition","generateblocks-pro"),accessorKey:"display_condition",cell:e=>{const t=e.getValue(),r=e.row.original.display_condition_invert;if(!t)return(0,l.createElement)("span",{className:"gb-modal-condition gb-modal-condition--everywhere"},(0,p.__)("Display Everywhere","generateblocks-pro"));if(v)return(0,l.createElement)("span",{className:"gb-modal-condition gb-modal-condition--loading"},(0,l.createElement)(g.Spinner,null));const a=b[t]||(0,p.__)("Unknown Condition","generateblocks-pro"),o=Ge("admin.php",{page:"generateblocks-conditions",edit:t});if(n){const e=r?`${(0,p.__)("NOT","generateblocks-pro")}: ${a}`:a;return(0,l.createElement)("span",{className:"gb-modal-condition"},e)}return r?(0,l.createElement)("span",{className:"gb-modal-condition"},(0,p.__)("NOT","generateblocks-pro"),": ",(0,l.createElement)("a",{href:o},a)):(0,l.createElement)("span",{className:"gb-modal-condition"},(0,l.createElement)("a",{href:o},a))}},{id:"actions",header:null,cell:e=>{const{id:t,admin_edit_url:r,status:o}=e.row.original;return(0,l.createElement)("div",{className:"gb-cloud-public-keys__actions"},(0,l.createElement)(g.DropdownMenu,{icon:je,label:(0,p.__)("More options","generateblocks-pro"),popoverProps:{placement:"left"}},(({onClose:c})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{if(n&&a){const{title:r}=e.row.original;let n="";"object"==typeof r&&null!==r?"object"==typeof r.rendered&&void 0!==r.rendered?.rendered?n=r.rendered.rendered:void 0!==r.rendered&&(n=r.rendered):"string"==typeof r&&(n=r),n&&""!==n.trim()||(n=(0,p.__)("(Untitled)","generateblocks-pro")),a(t,n)}else window.location.href=r;c()}},(0,p.__)("Edit Overlay Panel","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{i.mutateAsync(t).then((e=>{if(_.invalidateQueries({queryKey:["overlays"]}),e?.id){const t=e.admin_edit_url||Ge("post.php",{post:e.id,action:"edit"});window.location.href=t}})),c()}},(0,p.__)("Duplicate","generateblocks-pro"))),(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{const e="publish"===o?"draft":"publish";s.mutateAsync({id:t,status:e}).then((()=>{_.invalidateQueries({queryKey:["overlays"]})})),c()}},"publish"===o?(0,p.__)("Set as Draft","generateblocks-pro"):(0,p.__)("Publish","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{isDestructive:!0,onClick:()=>{u(t),c()}},(0,p.__)("Delete Overlay Panel","generateblocks-pro")))))))}}]),[e,n,a,d,b,v]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gb-dashboard-table-wrapper"},t.length?(0,l.createElement)(Ke.Table,{className:"gb-dashboard-table table-view-list",columns:w,data:t,"aria-labelledby":"modals-table-header"}):(0,l.createElement)("div",{className:"gb-modals-empty-state"},(0,l.createElement)("p",null,(0,p.__)("No overlay panels found.","generateblocks-pro")))),!!c&&(0,l.createElement)(g.Modal,{title:(0,p.__)("Confirm","generateblocks-pro"),isDismissible:!1,onRequestClose:()=>null,className:"gb-modal-name-input"},(0,l.createElement)("div",{className:"gb-modal-input-container"},(0,p.__)("This will permanently delete this overlay panel. You cannot undo this action.","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:async()=>{try{await o.mutateAsync(c),_.invalidateQueries({queryKey:["overlays"]}),u(null)}catch(e){console.error("Error deleting overlay:",e),u(null)}}},(0,p.__)("OK","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"tertiary",onClick:()=>u(null)},(0,p.__)("Cancel","generateblocks-pro"))))}const Je=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})),Xe=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),et=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}));function tt({category:e,updateCategory:t,saving:r}){const[n,a]=(0,m.useState)(!1),[o,s]=(0,m.useState)((0,O.decodeEntities)(e.name)),[i,c]=(0,m.useState)(!1),u=async()=>{c(!0),await t(e.id,o),c(!1),a(!1)},d=()=>{a(!1),s((0,O.decodeEntities)(e.name))};return n&&!e.isUncategorized?(0,l.createElement)("div",{className:"gb-edit-taxonomy-form"},(0,l.createElement)(g.TextControl,{value:o,onChange:s,disabled:i||r,onKeyDown:e=>{"Enter"===e.key?u():"Escape"===e.key&&d()},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,l.createElement)("div",{className:"gb-edit-actions"},(0,l.createElement)(g.Button,{variant:"primary",size:"small",onClick:u,disabled:!o.trim()||i||r,isBusy:i||r,__next40pxDefaultSize:!0},(0,p.__)("Save","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"secondary",size:"small",onClick:d,disabled:i||r,__next40pxDefaultSize:!0},(0,p.__)("Cancel","generateblocks-pro")))):(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},(0,l.createElement)("strong",{className:e.isUncategorized?"gb-uncategorized-label":""},(0,O.decodeEntities)(e.name)),!e.isUncategorized&&(0,l.createElement)(g.Button,{icon:et,size:"small",onClick:()=>{a(!0),s((0,O.decodeEntities)(e.name))},label:(0,p.__)("Edit category name","generateblocks-pro"),style:{visibility:"hidden"},className:"gb-taxonomy-edit-button"}))}function rt({taxonomyConfig:e={slug:"",restBase:"",labels:{singular:"Category",plural:"Categories",uncategorized:"Uncategorized",itemsCount:"items"}},itemsEndpoint:t,itemsTaxonomyField:r,manageEndpoint:n,onNavigateBack:a,onTaxonomyChange:o}){const[s,i]=(0,m.useState)([]),[c,u]=(0,m.useState)(!1),[d,h]=(0,m.useState)(!1),[b,f]=(0,m.useState)(null),[y,v]=(0,m.useState)(""),{labels:_={},restBase:w}=e;(0,m.useEffect)((()=>{E()}),[]);const E=async()=>{u(!0),f(null);try{const e=[Ae()({path:`/wp/v2/${w}`})];t&&e.push(Ae()({path:`${t}?per_page=100`}));const n=await Promise.all(e),a=n[0],o=n[1];if(a){let e=[...a];if(o?.success&&r){const t=(o.response?.[Object.keys(o.response)[0]]||[]).filter((e=>!e[r]||0===e[r].length)).length;e=[{id:"uncategorized",name:_.uncategorized||(0,p.__)("Uncategorized","generateblocks-pro"),slug:"",count:t,isUncategorized:!0},...a]}i(e)}}catch(e){f((0,p.__)("Failed to load categories.","generateblocks-pro"))}finally{u(!1)}},k=async()=>{if(y.trim()){h(!0),f(null);try{const e=y.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-");(await Ae()({path:n,method:"POST",data:{name:y.trim(),slug:e}})).success&&(await E(),v(""),o&&o())}catch(e){f((0,p.__)("Failed to create category.","generateblocks-pro"))}finally{h(!1)}}},x=async(e,t)=>{if(t.trim()){h(!0),f(null);try{(await Ae()({path:`${n}/${e}`,method:"POST",data:{name:t.trim()}})).success&&(await E(),o&&o())}catch(e){f((0,p.__)("Failed to update category.","generateblocks-pro"))}finally{h(!1)}}},C=async e=>{const t=_.singular?.toLowerCase()||"category",r=(0,p.sprintf)(/* translators: %1$s: singular taxonomy label, %2$s: singular taxonomy label */ /* translators: %1$s: singular taxonomy label, %2$s: singular taxonomy label */
(0,p.__)("Are you sure you want to delete this %1$s? Items using this %2$s will become uncategorized.","generateblocks-pro"),t,t);if(confirm(r)){h(!0),f(null);try{(await Ae()({path:`${n}/${e}`,method:"DELETE"})).success&&(await E(),o&&o())}catch(e){f((0,p.__)("Failed to delete category.","generateblocks-pro"))}finally{h(!1)}}},S=(0,m.useMemo)((()=>[{id:"name",header:(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("%s Name","generateblocks-pro"),_.singular||"Category"),accessorKey:"name",cell:e=>{const t=e.row.original;return(0,l.createElement)(tt,{category:t,updateCategory:x,saving:d})}},{id:"items",header:_.itemsCount?_.itemsCount.charAt(0).toUpperCase()+_.itemsCount.slice(1):(0,p.__)("Items","generateblocks-pro"),cell:e=>`${e.row.original.count||0} ${_.itemsCount||"items"}`},{id:"actions",header:(0,p.__)("Actions","generateblocks-pro"),cell:e=>{const t=e.row.original;return t.isUncategorized?(0,l.createElement)("span",{className:"gb-uncategorized-actions"},(0,p.__)("Built-in","generateblocks-pro")):(0,l.createElement)(g.DropdownMenu,{icon:je,label:(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("%s actions","generateblocks-pro"),_.singular||"Category"),className:"gb-taxonomy-actions",popoverProps:{placement:"left"}},(({onClose:e})=>(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{icon:Je,onClick:()=>{C(t.id),e()},isDestructive:!0},(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("Delete %s","generateblocks-pro"),_.singular||"Category")))))}}]),[_,x,C,d]);return(0,l.createElement)("div",{className:"gb-taxonomy-manager"},(0,l.createElement)("div",{className:"gb-taxonomy-manager-header"},(0,l.createElement)("div",{className:"gb-taxonomy-title-section"},(0,l.createElement)("h2",null,(0,p.sprintf)(/* translators: %s: plural taxonomy label */ /* translators: %s: plural taxonomy label */
(0,p.__)("Manage %s","generateblocks-pro"),_.plural||"Categories"))),(0,l.createElement)("div",{className:"gb-taxonomy-header-actions"},(0,l.createElement)(g.Button,{variant:"secondary",onClick:()=>{a()},disabled:d},(0,p.__)("Back","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-taxonomy-content"},!!b&&(0,l.createElement)(g.Notice,{status:"error",isDismissible:!1,className:"gb-taxonomy-error-notice"},b),(0,l.createElement)("div",{className:"gb-create-taxonomy-section"},(0,l.createElement)("h3",null,(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("Create New %s","generateblocks-pro"),_.singular||"Category")),(0,l.createElement)("div",{className:"gb-create-taxonomy-form"},(0,l.createElement)(g.TextControl,{label:(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("%s Name","generateblocks-pro"),_.singular||"Category"),value:y,onChange:v,placeholder:(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("Enter %s name","generateblocks-pro"),_.singular?.toLowerCase()||"category"),disabled:d,onKeyDown:e=>{"Enter"===e.key&&k()},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,l.createElement)(g.Button,{variant:"primary",icon:Xe,onClick:k,disabled:!y.trim()||d,isBusy:d,__next40pxDefaultSize:!0},(0,p.sprintf)(/* translators: %s: singular taxonomy label */ /* translators: %s: singular taxonomy label */
(0,p.__)("Create %s","generateblocks-pro"),_.singular||"Category")))),(0,l.createElement)("div",{className:"gb-taxonomy-list-section"},(0,l.createElement)("h3",null,(0,p.sprintf)(/* translators: %s: plural taxonomy label */ /* translators: %s: plural taxonomy label */
(0,p.__)("Existing %s","generateblocks-pro"),_.plural||"Categories")),c?(0,l.createElement)("div",{className:"gb-taxonomy-loading"},(0,l.createElement)(g.Spinner,null),(0,l.createElement)("span",null,(0,p.sprintf)(/* translators: %s: plural taxonomy label */ /* translators: %s: plural taxonomy label */
(0,p.__)("Loading %s","generateblocks-pro"),_.plural?.toLowerCase()||"categories"))):(0,l.createElement)("div",{className:"gb-dashboard-table-wrapper"},0===s.length?(0,l.createElement)("p",{style:{marginTop:"0"}},(0,p.sprintf)(/* translators: %s: plural taxonomy label */ /* translators: %s: plural taxonomy label */
(0,p.__)("No %s created yet.","generateblocks-pro"),_.plural?.toLowerCase()||"categories")):(0,l.createElement)(Ke.Table,{className:"gb-dashboard-table table-view-list",columns:S,data:s,"aria-labelledby":"taxonomy-table-header"})))))}const nt={taxonomyConfig:{slug:"gblocks_overlay_cat",restBase:"overlay-categories",labels:{singular:(0,p.__)("Category","generateblocks-pro"),plural:(0,p.__)("Categories","generateblocks-pro"),uncategorized:(0,p.__)("Uncategorized","generateblocks-pro"),itemsCount:"overlay panels"}},itemsEndpoint:"/generateblocks-pro/overlays/v1/overlays",itemsTaxonomyField:"gblocks_overlay_cat",manageEndpoint:"/generateblocks-pro/overlays/v1/manage_category"};function at({onNavigateBack:e,onCategoriesChange:t}){return(0,l.createElement)("div",{className:"gb-categories-manager"},(0,l.createElement)(rt,{...nt,onNavigateBack:e,onTaxonomyChange:t}))}function ot({isIframeMode:e=!1,onOverlaySelect:t=null,onCreateOverlay:r=null}){const[n,a]=(0,m.useState)("list"),[o,s]=(0,m.useState)(0),[i,c]=(0,m.useState)((()=>{const e=new URLSearchParams(window.location.search);return parseInt(e.get("overlayPage")||"1",10)})),{data:u,isLoading:d,isError:h}=Ue({status:"any",perPage:20,page:i}),b=u?.overlays||[],f=u?.totalPages||1,y=(0,m.useMemo)((()=>b&&b.length>0?b.map((e=>{const t=e.title?.rendered||e.title||"Untitled";return{...e,title:{...e.title,rendered:t}}})):[]),[b]);(0,m.useEffect)((()=>{const e=new URL(window.location);e.searchParams.set("overlayPage",i),window.history.replaceState({},"",e)}),[i]),(0,m.useEffect)((()=>{if(e)return;const t=new URLSearchParams(window.location.search).get("categories");a(t?"categories":"list")}),[e]);const v=t=>{if(e)return;const r=new URL(window.location);"categories"===t?r.searchParams.set("categories","true"):r.searchParams.delete("categories"),window.history.pushState({},"",r)},_=e=>{c(e)};if(d)return(0,l.createElement)("div",{className:"gb-cloud"},(0,l.createElement)(g.Spinner,null));if(h)return(0,l.createElement)("div",{className:"gb-cloud"},(0,l.createElement)("p",null,(0,p.__)("Error loading overlay panels. Please try again.","generateblocks-pro")));const w={list:(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)("div",{className:"gb-dashboard-admin__header"},(0,l.createElement)("div",{className:"gb-dashboard-admin__header-buttons"},e&&r?(0,l.createElement)("div",{style:{display:"flex"}},(0,l.createElement)(g.Button,{variant:"primary",onClick:()=>{r("new")},style:{borderTopRightRadius:0,borderBottomRightRadius:0}},(0,p.__)("Add New","generateblocks-pro")),(0,l.createElement)(g.DropdownMenu,{icon:L,label:(0,p.__)("Select overlay panel type","generateblocks-pro"),popoverProps:{placement:"bottom-end"},toggleProps:{variant:"primary",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"1px solid rgba(255,255,255,0.1)"},iconSize:18}},(({onClose:e})=>(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),r("new","standard")}},(0,p.__)("Standard","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),r("new","anchored")}},(0,p.__)("Anchored","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),r("new","mega-menu")}},(0,p.__)("Mega Menu","generateblocks-pro")))))):(0,l.createElement)("div",{style:{display:"flex"}},(0,l.createElement)(g.Button,{variant:"primary",href:gbOverlaysDashboard.newOverlayUrl,style:{borderTopRightRadius:0,borderBottomRightRadius:0}},(0,p.__)("Add New","generateblocks-pro")),(0,l.createElement)(g.DropdownMenu,{icon:L,label:(0,p.__)("Select overlay panel type","generateblocks-pro"),popoverProps:{placement:"bottom-end"},toggleProps:{variant:"primary",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"1px solid rgba(255,255,255,0.1)"},iconSize:18}},(({onClose:e})=>(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),window.location.href=gbOverlaysDashboard.newOverlayUrl+"&overlay_type=standard"}},(0,p.__)("Standard","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),window.location.href=gbOverlaysDashboard.newOverlayUrl+"&overlay_type=anchored"}},(0,p.__)("Anchored","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{e(),window.location.href=gbOverlaysDashboard.newOverlayUrl+"&overlay_type=mega-menu"}},(0,p.__)("Mega Menu","generateblocks-pro"))))))),(0,l.createElement)("div",{className:"gb-dashboard-admin__header-buttons-right"},(0,l.createElement)(g.Button,{variant:"secondary",onClick:()=>{a("categories"),v("categories")}},(0,p.__)("Manage Categories","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-dashboard-admin__inner"},(0,l.createElement)(Ye,{overlays:y,refreshKey:o,isIframeMode:e,onOverlaySelect:t}),f>1&&(0,l.createElement)("div",{className:"gb-dashboard__pagination"},(0,l.createElement)(g.Button,{disabled:1===i,onClick:()=>_(i-1),variant:"secondary"},(0,p.__)("Previous","generateblocks-pro")),(0,l.createElement)("span",null,(0,p.sprintf)(
// translators: %1$s: current page, %2$s: total pages
// translators: %1$s: current page, %2$s: total pages
(0,p.__)("Page %1$s of %2$s","generateblocks-pro"),i,f)),(0,l.createElement)(g.Button,{disabled:i===f,onClick:()=>_(i+1),variant:"secondary"},(0,p.__)("Next","generateblocks-pro"))))),categories:(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)(at,{onNavigateBack:()=>{a("list"),v("list")},onCategoriesChange:()=>{s((e=>e+1))}}))};return(0,l.createElement)(D,{currentView:n,views:w,viewOrder:["list","categories"],className:"gb-modals-dashboard",minHeight:400})}const st=function(e){return(0,l.createElement)(T,{client:He()},(0,l.createElement)(ot,{...e}))};function it({overlayId:e,overlayTitle:t,overlayType:r,onClose:n,embedded:a=!1,onUnsavedChanges:o=null}){const[s,i]=(0,m.useState)(!0),[c,u]=(0,m.useState)(!1),d=(0,m.useRef)(null);(0,m.useEffect)((()=>{a&&o&&o(c)}),[c,a,o]);const h={gb_overlay_context:1};let b;if(a&&(h.gb_embedded_overlay=1),"new"===e){const e={post_type:"gblocks_overlay",...h};r&&(e.overlay_type=r),b=Ge("post-new.php",e)}else b=Ge("post.php",{post:e,action:"edit",...h});const f=()=>{i(!1);const e=e=>{e.origin===window.location.origin&&("gb_unsaved_changes"===e.data.type?u(e.data.hasChanges):"gb_close_overlay"===e.data.type?n():"gb_overlay_saved"===e.data.type?function(){const e=He();e.invalidateQueries({queryKey:["overlays"]}),e.invalidateQueries({queryKey:["overlay"]})}():e.data.type)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},y=()=>{try{if(d.current?.contentWindow){const e=d.current.contentWindow.document.querySelector("#gb-overlay-close-btn");if(e)return void e.click()}}catch(e){}c&&!window.confirm((0,p.__)("You have unsaved changes. Are you sure you want to close?","generateblocks-pro"))||n()};return a?(0,l.createElement)("div",{className:"gb-modal-container gb-modal-embedded"},s&&(0,l.createElement)("div",{className:"gb-modal-loading"},(0,l.createElement)("div",{className:"gb-loading-content"},(0,l.createElement)("div",{className:"gb-loading-title"},(0,p.__)("Loading editor","generateblocks-pro")),(0,l.createElement)("div",{className:"gb-loading-subtitle"},(0,p.__)("Please wait while the overlay panel editor loads","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-modal-iframe-container "+(s?"gb-modal-iframe-hidden":"gb-modal-iframe-visible")},(0,l.createElement)("iframe",{ref:d,src:b,onLoad:f,title:(0,p.__)("Overlay Panel Editor","generateblocks-pro")}))):(0,l.createElement)(g.Modal,{title:"",onRequestClose:y,isDismissible:!1,shouldCloseOnClickOutside:!1,isFullScreen:!0,className:"gb-enterprise-modal-editor"},(0,l.createElement)("div",{className:"gb-modal-container"},(0,l.createElement)("div",{className:"gb-modal-header"},(0,l.createElement)("div",{className:"gb-modal-header-content"},(0,l.createElement)("div",{className:"gb-modal-header-left"},(0,l.createElement)("h3",{className:"gb-modal-title"},(0,p.__)("Edit Overlay Panel:","generateblocks-pro")," ",t),(0,l.createElement)("p",{className:"gb-modal-subtitle"},(0,p.__)("Changes are saved automatically in the editor below","generateblocks-pro"))),(0,l.createElement)("div",{className:"gb-modal-actions"},c&&(0,l.createElement)("div",{className:"gb-unsaved-indicator"},(0,p.__)("Unsaved changes","generateblocks-pro")),(0,l.createElement)(g.Button,{icon:A,size:"compact",variant:"tertiary",onClick:()=>{const t="new"===e?{post_type:"gblocks_overlay"}:{post:e,action:"edit"};"new"===e&&r&&(t.overlay_type=r);const a=Ge("new"===e?"post-new.php":"post.php",t);window.open(a,"_blank"),n()},label:(0,p.__)("Open in new tab","generateblocks-pro")}),(0,l.createElement)(g.Button,{icon:P,size:"compact",variant:"primary",onClick:y},(0,p.__)("Done","generateblocks-pro"))))),s&&(0,l.createElement)("div",{className:"gb-modal-loading"},(0,l.createElement)("div",{className:"gb-loading-content"},(0,l.createElement)("div",{className:"gb-loading-title"},(0,p.__)("Loading editor","generateblocks-pro")),(0,l.createElement)("div",{className:"gb-loading-subtitle"},(0,p.__)("Please wait while the overlay panel editor loads","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-modal-iframe-container "+(s?"gb-modal-iframe-hidden":"gb-modal-iframe-visible")},(0,l.createElement)("iframe",{ref:d,src:b,onLoad:f,title:(0,p.__)("Overlay Panel Editor","generateblocks-pro")}))))}function lt({trigger:e,overlayId:t=null,onOverlaySelect:r=null,modalProps:n={}}){var a;if(null===(a=window.gbOverlaysPermissions?.canManageOverlays)||void 0===a||!a)return null;if((()=>{try{return"1"===new URLSearchParams(window.location.search).get("gb_overlay_context")||window!==window.top}catch(e){return!0}})())return e?(0,l.createElement)("div",{title:(0,p.__)("The Overlay Panel editor is already open.","generateblocks-pro")},(0,l.createElement)("div",{style:{opacity:.5,pointerEvents:"none",cursor:"not-allowed"}},e)):null;const o={backButton:(0,p.__)("Back to Overlay Panels","generateblocks-pro"),createNew:(0,p.__)("Create New Overlay Panel","generateblocks-pro"),edit:(0,p.__)("Edit Overlay Panel","generateblocks-pro"),dashboard:(0,p.__)("Overlay Panels","generateblocks-pro")},s=(0,l.createElement)(st,null),i=(0,l.createElement)(it,{showBackButton:!0});return(0,l.createElement)(B,{trigger:e,itemId:t,itemType:"overlay",dashboardView:s,editorView:i,modalProps:n,labels:o,className:"gb-modal-dashboard-fullscreen",getNewTabUrl:(e,t)=>{if("new"===e){const e={post_type:"gblocks_overlay"};return t?.overlayType&&(e.overlay_type=t.overlayType),Ge("post-new.php",e)}return Ge("post.php",{post:e,action:"edit"})},onItemSelect:r})}function ct({label:e,help:t,value:r="",onChange:n,options:a=[],emptyLabel:o=(0,p.__)("None","generateblocks-pro"),className:s="",disabled:i=!1,editButton:c=null,emptyMessage:u="",uncategorizedLabel:d=(0,p.__)("Uncategorized","generateblocks-pro")}){const[h]=(0,m.useState)((()=>`gb-select-control-${Math.random().toString(36).substr(2,9)}`)),b=a&&"object"==typeof a&&!Array.isArray(a),f=b?Object.keys(a).length>0:a.length>0;return(0,l.createElement)(g.BaseControl,{id:h,label:e,help:t,htmlFor:h,className:`gb-select-group-control ${s}`,__nextHasNoMarginBottom:!0},(0,l.createElement)("div",{className:"gb-select-group-control__container"},(0,l.createElement)(g.SelectControl,{id:h,className:"gb-select-group-control__select",value:r,onChange:e=>n(e),disabled:i,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0},(0,l.createElement)("option",{value:""},o),b?Object.entries(a).map((([e,t])=>{const r="uncategorized"===e?t:t.items||[],n="uncategorized"===e?d:t.label;return"uncategorized"===e&&1===Object.keys(a).length?r.map((e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label))):(0,l.createElement)("optgroup",{key:e,label:n},r.map((e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label))))})):a.map((e=>(0,l.createElement)("option",{key:e.value,value:e.value},e.label)))),c&&("object"==typeof c&&c.show?(0,l.createElement)(g.Button,{variant:"tertiary",icon:c.icon,onClick:c.onClick,label:c.label||(0,p.__)("Edit","generateblocks-pro"),__next40pxDefaultSize:!0}):c)),!f&&u&&(0,l.createElement)("p",{className:"gb-select-group-control__empty"},u))}function ut({attributes:e,setAttributes:t,label:r=(0,p.__)("Overlay Panel Trigger","generateblocks-pro"),help:n=(0,p.__)("Select an overlay panel to trigger or close overlay panels.","generateblocks-pro")}){const{data:a,isLoading:o}=Ue({status:"any"}),{data:s=[],isLoading:i}=Oe({queryKey:["overlay-categories"],queryFn:async()=>Ae()({path:"/wp/v2/overlay-categories?per_page=100"}),staleTime:3e5,cacheTime:6e5}),c=o||i,[u,d]=(0,m.useState)({}),h=(0,m.useCallback)((()=>{const t=e.htmlAttributes||{};return void 0!==t["data-gb-overlay-close"]?"close":t["data-gb-overlay"]||""}),[e.htmlAttributes]);(0,m.useEffect)((()=>{if(!c&&a?.overlays){const r=h();if(r&&r.startsWith("gb-overlay-")){const n=r.replace("gb-overlay-","");a.overlays.filter((e=>e.trigger_info?.is_interactive)).some((e=>e.id.toString()===n))||setTimeout((()=>{const r={...e.htmlAttributes||{}};delete r["data-gb-overlay"],t({htmlAttributes:r})}),0)}}}),[h,a?.overlays,c,e.htmlAttributes,t]),(0,m.useEffect)((()=>{if(!c&&a?.overlays&&s){const e=a.overlays.filter((e=>e.trigger_info?.is_interactive)),t={},r=e.filter((e=>!e.gblocks_overlay_cat||0===e.gblocks_overlay_cat.length));r.length>0&&(t.uncategorized=r.map((e=>{let t=(0,p.__)("Untitled","generateblocks-pro");return"string"==typeof e.title?t=e.title:e.title?.rendered&&(t=e.title.rendered),"draft"===e.status&&(t=(0,p.__)("[Draft]","generateblocks-pro")+" "+t),{value:`gb-overlay-${e.id}`,label:(0,O.decodeEntities)(t)}}))),s.forEach((r=>{const n=e.filter((e=>e.gblocks_overlay_cat?.includes(r.id)));n.length>0&&(t[r.slug]={label:r.name,items:n.map((e=>{let t=(0,p.__)("Untitled","generateblocks-pro");return"string"==typeof e.title?t=e.title:e.title?.rendered&&(t=e.title.rendered),"draft"===e.status&&(t=(0,p.__)("[Draft]","generateblocks-pro")+" "+t),{value:`gb-overlay-${e.id}`,label:(0,O.decodeEntities)(t)}}))})})),t._close={label:(0,p.__)("Actions","generateblocks-pro"),items:[{value:"close",label:(0,p.__)("Close Opened Overlay Panel","generateblocks-pro")}]},d(t)}}),[a?.overlays,s,c]);const b=(0,m.useCallback)((r=>{const n={...e.htmlAttributes||{}};delete n["data-gb-overlay"],delete n["data-gb-overlay-close"],"close"===r?n["data-gb-overlay-close"]="":""!==r&&(n["data-gb-overlay"]=r),t({htmlAttributes:n})}),[e.htmlAttributes,t]),f=Object.keys(u).some((e=>"uncategorized"===e?u[e].length>0:u[e].items.length>0)),y=(()=>{const e=h();return e&&e.startsWith("gb-overlay-")?e.replace("gb-overlay-",""):null})(),v=y&&"close"!==y,_=!v&&"close"!==h();let w=null;v?w=(0,l.createElement)(lt,{trigger:(0,l.createElement)(g.Button,{variant:"tertiary",icon:et}),overlayId:y}):_&&(w=(0,l.createElement)(lt,{trigger:(0,l.createElement)(g.Button,{variant:"tertiary",icon:Xe}),overlayId:"new"}));const E=c?[]:u;return(0,l.createElement)(ct,{label:r,help:n,value:h(),onChange:b,options:E,emptyLabel:c?(0,p.__)("Loading overlay panels","generateblocks-pro"):(0,p.__)("None","generateblocks-pro"),editButton:w,emptyMessage:f||c?"":(0,p.__)("No overlay panels found. Create your first overlay panel to get started.","generateblocks-pro"),disabled:c})}function dt(e){return(0,l.createElement)(T,{client:He()},(0,l.createElement)(ut,{...e}))}const pt=["generateblocks/button-container","generateblocks/button","generateblocks/container","generateblocks/headline","generateblocks/image","generateblocks/grid","generateblocks/query-loop"],gt=["generateblocks/query-no-results","generateblocks-pro/classic-menu","generateblocks-pro/classic-menu-item","generateblocks-pro/classic-sub-menu"],mt=(0,u.createHigherOrderComponent)((e=>t=>{var r;const{isSelected:n,attributes:a,setAttributes:o}=t,{htmlAttributes:s}=a,i=t.name.startsWith("generateblocks")&&!gt.includes(t.name)&&!pt.includes(t.name);if(!n||!i)return(0,l.createElement)(e,{...t});const c=null===(r=window.generateblocksProEditor?.hasOverlaysEnabled)||void 0===r||r;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,{...t}),(0,l.createElement)(d.InspectorAdvancedControls,null,!!c&&(0,l.createElement)(dt,{attributes:a,setAttributes:o}),(0,l.createElement)(I,{items:s,onAdd:e=>o({htmlAttributes:e}),onRemove:e=>o({htmlAttributes:e}),onChange:e=>o({htmlAttributes:e})})))}),"withHtmlAttributesControl");(0,e.addFilter)("editor.BlockEdit","generateblocks-pro/html-attributes/add-control",mt),(0,e.addFilter)("generateblocks.blockSettings.afterImageUrlControls","generateblocks-pro/add-image-link-attributes-control",(function(e,t){var r;const{attributes:n,setAttributes:a}=t,{linkHtmlAttributes:o,tagName:s}=n;if(!o?.href||"img"!==s)return e;const i=null===(r=window.generateblocksProEditor?.hasOverlaysEnabled)||void 0===r||r;return(0,l.createElement)(l.Fragment,null,e,!!i&&(0,l.createElement)(dt,{attributes:n,setAttributes:a}),(0,l.createElement)(I,{label:(0,p.__)("Link Attributes","generateblocks"),items:o,onAdd:e=>a({linkHtmlAttributes:e}),onRemove:e=>a({linkHtmlAttributes:e}),onChange:e=>a({linkHtmlAttributes:e})}))}));const ht=window.gbp.blockStyles,bt=(0,m.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(h.Path,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"}));function ft({styles:e={},onPaste:r,clientId:n,onClear:a}){const{updateBlockAttributes:o}=(0,t.useDispatch)("core/block-editor"),{getMultiSelectedBlockClientIds:s,hasMultiSelection:i}=(0,t.useSelect)("core/block-editor"),c="generateblocksLocalStyles",u=JSON.parse(sessionStorage.getItem(c)),d=(0,m.useMemo)((()=>Object.keys(e).length),[e]);return d||u?(0,l.createElement)(g.ToolbarGroup,{isCollapsed:!0,icon:bt,label:(0,p.__)("Styles","generateblocks-pro"),controls:[{title:(0,p.__)("Copy Styles","generateblocks-pro"),onClick:()=>{sessionStorage.setItem(c,JSON.stringify(e))},isDisabled:i()||!d},{title:(0,p.__)("Paste Styles","generateblocks-pro"),onClick:()=>{const e=JSON.parse(sessionStorage.getItem(c));e&&r(e)},isDisabled:!u},{title:(0,p.__)("Clear Styles","generateblocks-pro"),onClick:()=>{if(window.confirm(i()?(0,p.__)("This will remove all styling from these blocks.","generateblocks-pro"):(0,p.__)("This will remove all styling from this block.","generateblocks-pro"))){const e=i()?s():[n],t={};e.forEach((e=>{t[e]={styles:{}}})),o(e,t,!0),a&&a()}},isDisabled:!d}]}):null}const yt=["generateblocks/query-no-results"],vt=(0,u.createHigherOrderComponent)((e=>t=>{const{name:r,attributes:a,clientId:o}=t,{styles:s}=a,i=(0,ht.useSetStyles)(t,{cleanStylesObject:n.cleanStylesObject});return!r.startsWith("generateblocks")||yt.includes(t.name)||pt.includes(t.name)?(0,l.createElement)(e,{...t}):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(e,{...t}),(0,l.createElement)(d.BlockControls,null,(0,l.createElement)(ft,{styles:s,clientId:o,onPaste:i})))}),"withCopyStylesToolbar");(0,e.addFilter)("editor.BlockEdit","generateblocks-pro/copy-paste-styles",vt);const _t=window.wp.plugins;function wt(){return(0,t.useSelect)((()=>{const e=(0,Ze.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.select)(e?"core/edit-site":"core/editor");return{getSettings:e?r.getSettings:r.getEditorSettings}}),[])}function Et(){const e=(0,Ze.getPath)(window.location.href)?.includes("site-editor.php"),r=(0,t.useDispatch)(e?"core/edit-site":"core/editor");return{updateSettings:e?r.updateSettings:r.updateEditorSettings}}function kt(){const{updateSettings:e}=Et(),{getSettings:t}=wt();return async(r,n="")=>{if(!n){const e=await Ae()({path:(0,Ze.addQueryArgs)("/generateblocks-pro/v1/global-classes/get_css",{selector:r}),method:"GET"});!0===e.success&&(n=e.response.data.toString())}const a=t(),o=a?.styles?.find((e=>"gb_class:"+r===e.source));e(o?{...a,styles:a?.styles.map((e=>"gb_class:"+r!==e.source?e:{...e,css:n}))}:{...a,styles:[...a?.styles,{css:n,source:"gb_class:"+r}]})}}(0,t.createReduxStore)("gbp-current-style",{reducer:n.currentStyleReducer,actions:n.currentStyleActions,selectors:n.currentStyleSelectors}),(0,t.createReduxStore)("gbp-styles",{reducer:n.styleReducer,actions:n.styleActions,selectors:n.styleSelectors}),(0,t.createReduxStore)("gbp-styles-at-rule",{reducer:n.atRuleReducer,actions:n.atRuleActions,selectors:n.atRuleSelectors}),(0,t.createReduxStore)("gbp-styles-nested-rule",{reducer:n.nestedRuleReducer,actions:n.nestedRuleActions,selectors:n.nestedRuleSelectors}),window.wp.notices;const xt=window.wp.coreData;window.lodash,"undefined"!=typeof gbGlobalStylePermissions&&gbGlobalStylePermissions,window.wp.editPost,(0,_t.registerPlugin)("generateblocks-pro-update-style-selectors",{render:function(){const{getSettings:e}=wt(),{updateSettings:t}=Et(),r=e(),{styles:n}=r;return(0,m.useEffect)((()=>{if(!Array.isArray(n))return;const e=n.filter((e=>e.source?.startsWith("gb_class:")||"generateblocks-pro/class-menu-style"===e.source)).map((e=>{const t=(0,d.transformStyles)([{css:e.css}],".editor-styles-wrapper")?.[0];return t?{css:t,source:e.source}:null})).filter(Boolean);e.length>0&&t({...r,styles:r.styles.map((t=>{const r=e.find((e=>e.source===t.source));return r?{...t,css:r.css}:t}))})}),[]),null}}),(0,e.addFilter)("generateblocks.editor.SelectMetaKeys.options","generateblocks-pro/dynamic-tags/post-meta",(function(e,{post:t,term:r,user:n,type:a}){var o,s,i;const l="1"===generateBlocksPro?.isACFActive,c=!t&&!r&&!n&&"option"!==a,u=function(e=!0){const[t,r]=(0,m.useState)([]);return(0,m.useEffect)((()=>{e?(async()=>{try{const e=await Ae()({path:"/generateblocks-pro/v1/get-acf-option-fields",method:"GET"});r(e)}catch(e){console.error("Failed to fetch ACF option fields:",e),r([])}})():r([])}),[e]),t}(l&&"option"===a&&!c);if(c||!l)return e;let d={};switch(a){case"post":d=null!==(o=t?.acf)&&void 0!==o?o:{};break;case"term":d=null!==(s=r?.acf)&&void 0!==s?s:{};break;case"author":case"user":d=null!==(i=n?.acf)&&void 0!==i?i:{};break;case"option":d=u;break;default:return e}const g=Object.keys(d);if(0===g.length)return e;const h=function(e){const t=[],r=e.sort(((e,t)=>e.localeCompare(t))),n=[];r.forEach((e=>{r.forEach((t=>{const r=new RegExp(`^${e}_\\d_`,"gi");t!==e&&t.startsWith(e)&&t.match(r)&&n.push(t)}))}));const a=[];return r.filter((e=>!t.includes(e)&&!n.includes(e))).forEach((e=>{a.push({label:e,value:e})})),a}(g);return[...e,{id:"acf",label:(0,p.__)("ACF Fields","generateblocks-pro"),items:h}]})),(0,e.addFilter)("generateblocks.editor.SelectMetaKeys.keys","generateblocks-pro/dynamic-tags/acf",(function(e,t){const{acf:r={}}=t,n=Object.keys(r);return e.filter((e=>!n.includes(e.value)))})),(0,e.addFilter)("generateblocks.dynamicTags.sourceOptions","generateblocks-pro/dynamicTags/set-adjacent-post-options",(function(e,{dynamicTagType:t}){return"post"!==t&&"author"!==t||(e.push({value:"next-post",label:(0,p.__)("Next Post","generateblocks-pro")}),e.push({value:"previous-post",label:(0,p.__)("Previous Post","generateblocks-pro")})),e})),(0,e.addFilter)("generateblocks.dynamicTags.sourcesInOptions","generateblocks-pro/dynamicTags/set-adjacent-sources-in-options",(function(e){return e.push("next-post"),e.push("previous-post"),e}));const Ct=window.wp.editor;function St({value:e,setParameter:t}){return(0,l.createElement)(g.TextControl,{label:(0,p.__)("Per Page","generateblocks-pro"),value:e,onChange:e=>t("posts_per_page",e),type:"number",min:-1})}function It({value:e,setParameter:t}){return(0,l.createElement)(g.TextControl,{label:(0,p.__)("Offset","generateblocks-pro"),value:e,onChange:e=>t("offset",e),type:"number",min:0,help:(0,p.__)("Offset is ignored if per_page is set to -1.","generateblocks")})}(0,e.addFilter)("generateblocks.editor.query.queryTypes","generateblocks-pro/query/addTypes",(function(e){return[...e,{label:(0,p.__)("Post Meta","generateblocks-pro"),value:"post_meta",help:(0,p.__)("Loop over post meta array value.","generateblocks-pro")},{label:(0,p.__)("Option","generateblocks-pro"),value:"option",help:(0,p.__)("Loop over option array value.","generateblocks-pro")}]})),(0,e.addFilter)("generateblocks.editor.query.inspectorControls","generateblocks-pro/query/inspector-controls",(function(r,n){var a;const{queryType:o,queryState:s,setParameter:i,removeParameter:c,queryClient:u}=n,d=(0,e.applyFilters)("generateblocks.editor.preview.context",null!==(a=n?.context)&&void 0!==a?a:{},{queryType:o,queryState:s,otherControls:r}),g=(0,t.useSelect)((e=>{const{postId:t}=d;if(t)return parseInt(t,10);const{getCurrentPostId:r}=e(Ct.store);return r?r():null}),[d]),{meta_key:h="",meta_key_id:b="current",posts_per_page:f=10,offset:y=0}=s,v=(0,m.useMemo)((()=>{const e=[];return"post_meta"===o&&e.push("post"),{load:e,options:{},postId:"current"!==b&&b?parseInt(b,10):g}}),[o,b,g]),{record:_}=(0,Ke.usePostRecord)(v);return(0,m.useEffect)((()=>{b&&"post_meta"!==o&&c("meta_key_id"),h&&!["option","post_meta"].includes(o)&&c("meta_key")}),[o,b,h]),(0,l.createElement)(l.Fragment,null,r,"post_meta"===o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Ke.SelectPost,{value:b.toString(),onChange:function(e){var t;return i("meta_key_id",null!==(t=e?.value)&&void 0!==t?t:"")},onClear:function(){i("meta_key_id","current")},help:(0,p.__)("Type to search for posts.","generateblocks-pro"),currentPostId:g,placeholder:(0,p.__)("Current Post","generateblocks-pro"),queryClient:u}),(0,l.createElement)(Ke.SelectMeta,{onSelect:e=>{e?.value?i("meta_key",e.value):c("meta_key")},onClear:()=>c("meta_key"),onEnter:e=>i("meta_key",e),onAdd:({inputValue:e})=>i("meta_key",e),help:(0,p.__)("Meta value must be an array","generateblocks-pro"),value:h,post:_,type:"post"}),(0,l.createElement)(St,{value:f,setParameter:i}),(0,l.createElement)(It,{value:y,setParameter:i})),"option"===o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Ke.SelectMeta,{onSelect:e=>{e?.value?i("meta_key",e.value):c("meta_key")},onClear:()=>c("meta_key"),onEnter:e=>i("meta_key",e),onAdd:({inputValue:e})=>i("meta_key",e),help:(0,p.__)("Meta value must be an array","generateblocks-pro"),value:h,type:"option"}),(0,l.createElement)(St,{value:f,setParameter:i}),(0,l.createElement)(It,{value:y,setParameter:i})))})),(0,e.addFilter)("generateblocks.editor.looper.query","generateblocks-pro/looper/custom-query",(function(e,{query:r,queryType:n,context:a}){const o=(0,t.useSelect)((e=>{const{postId:t}=a;if(t)return parseInt(t,10);const{getCurrentPostId:r}=e("core/editor");return r?r():null}),[a]),{meta_key:s,meta_key_id:i="current"}=r,l="current"!==i&&i?parseInt(i,10):o,c=(0,Ke.usePostMeta)({shouldRequest:"post_meta"===n,id:l,key:s}),u=(0,Ke.useOption)({shouldRequest:"option"===n,key:s});return"post_meta"===n&&c.data?c:"option"===n&&u.data?u:e}),10,2),(0,e.addAction)("generateblocks.patterns.patternsList","generateblocks.patterns.setGlobalStyleCSS",(({activeLibrary:e,setGlobalStyleCSS:t,setGlobalStyleData:r,isLocal:n,cacheIsClearing:a})=>{(0,m.useEffect)((()=>{!async function(){if(n)t(""),r([]);else{var a,o;const{data:n}=await async function(e){try{const t=await Ae()({path:(0,Ze.addQueryArgs)("/generateblocks-pro/v1/pattern-library/get-global-style-data",{url:e?.domain,id:e?.id,publicKey:e?.publicKey}),method:"GET",headers:{"X-GB-Public-Key":e.publicKey}});if(t)return t.response}catch(e){return[]}}(e);t(null!==(a=n?.css)&&void 0!==a?a:""),r(null!==(o=n?.styles)&&void 0!==o?o:[])}}()}),[e?.id,a])})),(0,e.addFilter)("generateblocks.patterns.insertPatternButton","generateblocks.patterns.insertGlobalStyleButton",((e,{onClick:r,label:a,patterns:o,globalStyleData:s,className:i,disabled:c})=>{const u=kt(),d=function(){const{editEntityRecord:e}=(0,t.useDispatch)(xt.store),r=kt();return async(t,a,o)=>{const s=await(0,n.getCss)(t,o),i=["postType","gblocks_styles",a];await e(...i,{title:t,gb_style_selector:t,gb_style_data:o,gb_style_css:s});const l=await(0,n.getCss)(t,o,"editor");r(t,l)}}(),[p,h]=(0,m.useState)(!1),{getEntityRecordEdits:b,getEntityRecord:f}=(0,t.useSelect)(xt.store);return(0,l.createElement)(g.Button,{variant:"primary",className:i,icon:Xe,isBusy:p,disabled:c,onClick:async e=>{h(!0);const t=o.map((e=>e.globalStyleSelectors)).flat();if(!t.length)return void r(e);const n=[];if(t.forEach((e=>{const t=s.find((t=>t.className===e));t&&!n.includes(t)&&n.push(t)})),n.length)try{const t=await Ae()({path:"/generateblocks-pro/v1/pattern-library/import-styles",method:"POST",data:{styles:n}}),a=t?.response?.data?.imported,o=t?.response?.data?.existing;if(o?.length){const e=o.find((e=>".gbp-section__inner"===e.selector));e&&await async function(e,t=[]){const r=s.find((t=>t.className===e.selector)),n=JSON.parse(r.styles),a=await b("postType","gblocks_styles",e.id),o={...e.styles},i={...a?.gb_style_data||o};let l=!1;for(const e of t)!i[e]&&n[e]&&(i[e]=n[e],l=!0);l&&await async function(e,t,r=10){return new Promise((n=>{let a=0;const o=()=>{const s=f(e,"gblocks_styles",t);s?n(s):a<r&&(a++,setTimeout(o,100))};o()}))}("postType",e.id)&&await d(e.selector,e.id,i)}(e,["maxWidth"])}a.length&&a.forEach((e=>{const t=s.find((t=>t.className===e))?.css;u(e,t)})),r(e),h(!1)}catch(t){r(e),h(!1)}else r(e)}},a)})),(0,e.addFilter)("generateblocks.patternLibrary.addLibraryContent","generateblocks.patternLibrary.addRemoteLibrary",((e,{setShowAddLibrary:t,setLibraries:r})=>{const[n,a]=(0,m.useState)(""),[o,s]=(0,m.useState)(""),[i,c]=(0,m.useState)(""),[u,d]=(0,m.useState)(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(g.TextControl,{label:(0,p.__)("Domain","generateblocks-pro"),value:o,onChange:s,type:"url",placeholder:"https://yourdomain.com",onBlur:()=>{""===o||o.startsWith("http")?o&&a(""):s("https://"+o.replace(/^\/\//,""))}}),(0,l.createElement)(g.TextControl,{label:(0,p.__)("Public key","generateblocks-pro"),value:i,onChange:c,onBlur:()=>{i&&a("")}}),(0,l.createElement)(g.Button,{disabled:!!n,variant:"primary",isBusy:u,onClick:async()=>{if(d(!0),a(""),""===o)return a((0,p.__)("Please enter a domain.","generateblocks-pro")),void d(!1);if(""===i)return a((0,p.__)("Public key is required.","generateblocks-pro")),void d(!1);const e={id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),domain:o,publicKey:i,isEnabled:!0,isDefault:!1,isLocal:!1};try{const n=await Ae()({path:"/generateblocks-pro/v1/pattern-library/add-library",method:"POST",data:{domain:o,publicKey:i,data:e}});if(!n?.success)throw new Error(n?.response);await r(),t(!1),d(!1)}catch(e){a(e?.message||(0,p.__)("Error adding library.","generateblocks-pro")),d(!1)}}},(0,p.__)("Add","generateblocks-pro")),n&&(0,l.createElement)(g.Notice,{status:"error",isDismissible:!1,className:"gb-add-library__error"},n))})),(0,e.addFilter)("generateblocks.editor.allowCustomAtRule","generateblocks-pro/editor/allowCustomAtRule",(()=>!0)),(0,e.addFilter)("generateblocks.editor.allowCustomAdvancedSelector","generateblocks-pro/editor/allowCustomAdvancedSelector",(()=>!0));const Ot=(0,e.applyFilters)("generateblocks-pro.deviceVisibilityOptions",[{label:(0,p.__)("Hide on Desktop","generateblocks-pro"),ruleId:"largeWidth"},{label:(0,p.__)("Hide on Tablet","generateblocks-pro"),ruleId:"mediumWidth"},{label:(0,p.__)("Hide on Tablet & Mobile","generateblocks-pro"),ruleId:"mediumSmallWidth"},{label:(0,p.__)("Hide on Mobile","generateblocks-pro"),ruleId:"smallWidth"}]),Nt=["none","none!important","none !important"];(0,e.addFilter)("generateblocks.blockSettings.openPanel","generateblocks-pro/device-visibility",(function(e,t){const{panelId:r,getStyleValue:a,onStyleChange:o}=t;return"settings"!==r||void 0===a?e:Ot&&Ot.length?(0,l.createElement)(l.Fragment,null,e,(0,l.createElement)(g.BaseControl,{label:(0,p.__)("Device Visibility","generateblocks-pro"),id:"gb-device-visibility"},(0,l.createElement)(Ke.Stack,{gap:"5px"},Ot.map((e=>{const t=(0,n.getAtRuleValue)(e.ruleId),r=Nt.includes(a("display",t));return(0,l.createElement)(g.ToggleControl,{key:e.ruleId,label:e.label,checked:r,onChange:e=>{o("display",e?"none !important":"",t)}})}))))):e})),(0,e.addFilter)("generateblocks.editor.blockCss","generateblocks-pro/navigation-editor-css",((e,{clientId:r,name:n})=>{const{getBlock:a}=(0,t.useSelect)((e=>e("core/block-editor")),[]);if("generateblocks-pro/navigation"===n){var o;const t=a(r),{htmlAttributes:s={},uniqueId:i}=t.attributes,l=null!==(o=s?.["data-gb-mobile-breakpoint"])&&void 0!==o?o:"";if(l){const t=(0,ht.getSelector)(n,i);let r=`@media (width > ${l}) {.editor-styles-wrapper ${t} .gb-menu-toggle {display: none;}}`;r+=`@media (max-width: ${l}) {.editor-styles-wrapper ${t} .gb-menu-container:not(.gb-menu-container--toggled) {display: none;}`,e+=r}else e+=`.editor-styles-wrapper ${(0,ht.getSelector)(n,i)} .gb-menu-toggle {display: none;}`}return e})),(0,e.addFilter)("generateblocks.editor.sidebar","generateblocks/sidebar/overlay-panels",(function(e,{activePanel:t}){var r,n;return t?e:(null===(r=window.generateblocksProEditor?.hasOverlaysEnabled)||void 0===r||r)&&null!==(n=window.gbOverlaysPermissions?.canManageOverlays)&&void 0!==n&&n?(0,l.createElement)(l.Fragment,null,e,(0,l.createElement)(g.PanelBody,null,(0,l.createElement)("h2",{className:"gblocks-editor-sidebar__panel-title"},(0,p.__)("Overlay Panels","generateblocks")),(0,l.createElement)(lt,{trigger:(0,l.createElement)(g.Button,{variant:"secondary"},(0,p.__)("Manage Overlay Panels","generateblocks"))}))):e}));const Rt=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M20.2 8v11c0 .7-.6 1.2-1.2 1.2H6v1.5h13c1.5 0 2.7-1.2 2.7-2.8V8zM18 16.4V4.6c0-.9-.7-1.6-1.6-1.6H4.6C3.7 3 3 3.7 3 4.6v11.8c0 .9.7 1.6 1.6 1.6h11.8c.9 0 1.6-.7 1.6-1.6zm-13.5 0V4.6c0-.1.1-.1.1-.1h11.8c.1 0 .1.1.1.1v11.8c0 .1-.1.1-.1.1H4.6l-.1-.1z"})),Mt=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})),Tt=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"}));function At({conditions:e,onConditionsImport:t}){const[r,n]=(0,m.useState)(!1),[a,o]=(0,m.useState)(""),[s,i]=(0,m.useState)(!1),[c,u]=(0,m.useState)(!1),d=()=>{if(!e.groups||0===e.groups.length)return"";const t={logic:e.logic,groups:e.groups.map((e=>({logic:e.logic,conditions:e.conditions.filter((e=>e.type&&e.rule&&e.operator)).map((e=>({type:e.type,rule:e.rule,operator:e.operator,value:e.value||""})))}))).filter((e=>0<e.conditions.length))};return JSON.stringify(t,null,2)},h=e.groups&&0<e.groups.length;return(0,l.createElement)("div",{className:"gb-conditions-preview"},s?(0,l.createElement)("div",{className:"gb-import-section"},(0,l.createElement)(g.TextareaControl,{label:(0,p.__)("Import Conditions (JSON format)","generateblocks-pro"),value:a,onChange:o,rows:8,placeholder:(0,p.__)("Paste exported conditions here","generateblocks-pro")}),(0,l.createElement)(g.Button,{variant:"primary",onClick:()=>{if(a.trim())try{const e=JSON.parse(a);if(!e.groups||!Array.isArray(e.groups))throw new Error("Invalid format: missing groups array");e.groups.forEach(((e,t)=>{if(!e.logic||!["AND","OR"].includes(e.logic))throw new Error(`Invalid logic operator in group ${t+1}`);if(!e.conditions||!Array.isArray(e.conditions))throw new Error(`Invalid conditions in group ${t+1}`);e.conditions.forEach(((e,r)=>{if(!e.type||!e.rule||!e.operator)throw new Error(`Incomplete condition ${r+1} in group ${t+1}`)}))}));const r={logic:e.logic||"OR",groups:e.groups};t(r),o(""),i(!1),alert((0,p.__)("Conditions imported successfully!","generateblocks-pro"))}catch(e){alert((0,p.__)("Import failed: ","generateblocks-pro")+e.message)}else alert((0,p.__)("Please enter conditions to import.","generateblocks-pro"))},disabled:!a.trim()},(0,p.__)("Import Conditions","generateblocks-pro"))):(0,l.createElement)(l.Fragment,null,r&&h&&(0,l.createElement)("div",{className:"gb-preview-text"},(0,l.createElement)("pre",{className:"gb-export-format"},d()||(0,p.__)("No conditions to export","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-preview-footer"},h&&(0,l.createElement)(g.ToggleControl,{label:(0,p.__)("Show JSON Format","generateblocks-pro"),checked:r,onChange:n,help:(0,p.__)("View the raw JSON format for advanced users","generateblocks-pro")}),(0,l.createElement)("div",{className:"gb-preview-actions"},h&&r&&(0,l.createElement)(g.Button,{variant:"secondary",size:"compact",icon:Rt,onClick:async()=>{const e=d();try{await navigator.clipboard.writeText(e),u(!0),setTimeout((()=>u(!1)),2e3)}catch(t){const r=document.createElement("textarea");r.value=e,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r),u(!0),setTimeout((()=>u(!1)),2e3)}},className:"gb-copy-button"},c?(0,p.__)("Copied!","generateblocks-pro"):(0,p.__)("Copy JSON","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"secondary",size:"compact",icon:s?Mt:Tt,onClick:()=>i(!s)},s?(0,p.__)("Cancel Import","generateblocks-pro"):(0,p.__)("Import","generateblocks-pro")))))}function Pt({isOpen:e,onClose:t,onCreateCategory:r}){const[n,a]=(0,m.useState)(""),[o,s]=(0,m.useState)(!1),i=async()=>{if(n.trim()){s(!0);try{const e=n.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-");await r({name:n.trim(),slug:e}),a(""),t()}catch(e){}finally{s(!1)}}},c=()=>{a(""),t()};return e?(0,l.createElement)(g.Modal,{title:(0,p.__)("Create New Category","generateblocks-pro"),onRequestClose:c,className:"gb-create-category-modal"},(0,l.createElement)("div",{className:"gb-modal-content"},(0,l.createElement)(g.TextControl,{label:(0,p.__)("Category Name","generateblocks-pro"),value:n,onChange:a,placeholder:(0,p.__)("Enter category name","generateblocks-pro"),disabled:o,onKeyDown:e=>{"Enter"===e.key&&i()}}),(0,l.createElement)("div",{className:"gb-modal-actions",style:{display:"flex",gap:"5px",justifyContent:"space-between"}},(0,l.createElement)(g.Button,{variant:"secondary",onClick:c,disabled:o},(0,p.__)("Cancel","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:i,disabled:!n.trim()||o,isBusy:o},(0,p.__)("Create Category","generateblocks-pro"))))):null}const Dt=(0,m.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(h.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"}));function Bt({currentDate:e,onChange:t,placeholder:r=(0,p.__)("Select date and time","generateblocks-pro")}){const[n,a]=(0,m.useState)(!1),[o,s]=(0,m.useState)(e),i=()=>{s(e),a(!1)};return(0,l.createElement)("div",{className:"gb-datetime-popover-wrapper"},(0,l.createElement)(g.Button,{variant:"secondary",icon:Dt,onClick:()=>{s(e),a(!0)},className:"gb-datetime-trigger",__next40pxDefaultSize:!0},(c=e)?c.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):r),n&&(0,l.createElement)(g.Popover,{position:"bottom left",onClose:i,className:"gb-datetime-popover"},(0,l.createElement)("div",{className:"gb-datetime-popover-content"},(0,l.createElement)(g.DateTimePicker,{currentDate:o,onChange:s,is12Hour:!0}),(0,l.createElement)("div",{className:"gb-datetime-popover-actions"},e&&(0,l.createElement)(g.Button,{variant:"link",onClick:()=>{s(null),t(null),a(!1)},isDestructive:!0},(0,p.__)("Clear","generateblocks-pro")),(0,l.createElement)("div",{className:"gb-datetime-popover-main-actions"},(0,l.createElement)(g.Button,{variant:"tertiary",onClick:i},(0,p.__)("Cancel","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:()=>{t(o),a(!1)}},(0,p.__)("Apply","generateblocks-pro")))))));var c}function Lt({currentTime:e,onChange:t,placeholder:r=(0,p.__)("Select time","generateblocks-pro")}){const[n,a]=(0,m.useState)(!1),[o,s]=(0,m.useState)(e||""),[i,c]=(0,m.useState)(null),u=()=>!(!o||!/^\d{2}:\d{2}$/.test(o))||!(i&&!i.validity.valid)&&(!o&&!e||!(!o&&e)||!!i&&i.validity.valid),d=()=>{a(!1)};return(0,l.createElement)("div",{className:"gb-datetime-popover-wrapper"},(0,l.createElement)(g.Button,{variant:"secondary",icon:Dt,onClick:()=>{s(e||""),a(!0)},className:"gb-datetime-trigger",__next40pxDefaultSize:!0},(e=>{if(!e)return r;const[t,n]=e.split(":").map(Number);if(isNaN(t)||isNaN(n))return e;const a=new Date;return a.setHours(t,n,0,0),a.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit",hour12:!0})})(e)),n&&(0,l.createElement)(g.Popover,{position:"bottom left",onClose:d,className:"gb-datetime-popover gb-time-only-popover"},(0,l.createElement)("div",{className:"gb-datetime-popover-content"},(0,l.createElement)("div",{className:"gb-time-input-wrapper"},(0,l.createElement)("label",{htmlFor:"gb-time-input",className:"gb-time-input-label"},(0,p.__)("Time","generateblocks-pro")),(0,l.createElement)("input",{id:"gb-time-input",type:"time",value:o,onChange:e=>s(e.target.value),className:"gb-time-input",ref:c}),(0,l.createElement)("small",{className:"gb-time-input-help"},(0,p.__)("Enter time in HH:MM format","generateblocks-pro"))),(0,l.createElement)("div",{className:"gb-datetime-popover-actions"},e&&(0,l.createElement)(g.Button,{variant:"link",onClick:()=>{s(""),t(""),a(!1)},isDestructive:!0},(0,p.__)("Clear","generateblocks-pro")),(0,l.createElement)("div",{className:"gb-datetime-popover-main-actions"},(0,l.createElement)(g.Button,{variant:"tertiary",onClick:d},(0,p.__)("Cancel","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:()=>{u()&&(t(o),a(!1))},disabled:!u()},(0,p.__)("Apply","generateblocks-pro")))))))}function Ft(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vt.apply(null,arguments)}var qt=r(5556),$t=r.n(qt);r(44363);const Ht=e=>"object"==typeof e&&null!=e&&1===e.nodeType,zt=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,Ut=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return zt(r.overflowY,t)||zt(r.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},jt=(e,t,r,n,a,o,s,i)=>o<e&&s>t||o>e&&s<t?0:o<=e&&i<=r||s>=t&&i>=r?o-e-n:s>t&&i<r||o<e&&i>r?s-t+a:0,Kt=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};var Qt=function(){return Qt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Qt.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var Wt=0;function Zt(){}function Gt(e,t,r){return e===t||t instanceof r.Node&&e.contains&&e.contains(t)}function Yt(e,t){var r;function n(){r&&clearTimeout(r)}function a(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];n(),r=setTimeout((function(){r=null,e.apply(void 0,o)}),t)}return a.cancel=n,a}function Jt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.some((function(t){return t&&t.apply(void 0,[e].concat(n)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault}))}}function Xt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}function er(e,t){return e&&t?Object.keys(e).reduce((function(r,n){return r[n]=tr(t,n)?t[n]:e[n],r}),{}):e}function tr(e,t){return void 0!==e[t]}function rr(e,t,r,n,a){void 0===a&&(a=!1);var o=r.length;if(0===o)return-1;var s=o-1;("number"!=typeof e||e<0||e>s)&&(e=t>0?-1:s+1);var i=e+t;i<0?i=a?s:0:i>s&&(i=a?0:s);var l=nr(i,t<0,r,n,a);return-1===l?e>=o?-1:e:l}function nr(e,t,r,n,a){void 0===a&&(a=!1);var o=r.length;if(t){for(var s=e;s>=0;s--)if(!n(r[s],s))return s}else for(var i=e;i<o;i++)if(!n(r[i],i))return i;return a?nr(t?o-1:0,t,r,n):-1}function ar(e,t,r,n){return void 0===n&&(n=!0),r&&t.some((function(t){return t&&(Gt(t,e,r)||n&&Gt(t,r.document.activeElement,r))}))}var or=Yt((function(e){sr(e).textContent=""}),500);function sr(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var ir={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};var lr=Yt((function(e,t){!function(e,t){e&&t&&(sr(t).textContent=e,or(t))}(e,t)}),200),cr="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect,ur="useId"in c()?function(e){var t=e.id,r=e.labelId,n=e.menuId,a=e.getItemId,o=e.toggleButtonId,s=e.inputId,i="downshift-"+c().useId();return t||(t=i),(0,l.useRef)({labelId:r||t+"-label",menuId:n||t+"-menu",getItemId:a||function(e){return t+"-item-"+e},toggleButtonId:o||t+"-toggle-button",inputId:s||t+"-input"}).current}:function(e){var t=e.id,r=void 0===t?"downshift-"+String(Wt++):t,n=e.labelId,a=e.menuId,o=e.getItemId,s=e.toggleButtonId,i=e.inputId;return(0,l.useRef)({labelId:n||r+"-label",menuId:a||r+"-menu",getItemId:o||function(e){return r+"-item-"+e},toggleButtonId:s||r+"-toggle-button",inputId:i||r+"-input"}).current};function dr(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function pr(e){var t=(0,l.useRef)(e);return t.current=e,t}function gr(e,t,r,n){var a=(0,l.useRef)(),o=(0,l.useRef)(),s=(0,l.useCallback)((function(t,r){o.current=r,t=er(t,r.props);var n=e(t,r);return r.props.stateReducer(t,Vt({},r,{changes:n}))}),[e]),i=(0,l.useReducer)(s,t,r),c=i[0],u=i[1],d=pr(t),p=(0,l.useCallback)((function(e){return u(Vt({props:d.current},e))}),[d]),g=o.current;return(0,l.useEffect)((function(){var e=er(a.current,null==g?void 0:g.props);g&&a.current&&!n(e,c)&&function(e,t,r){var n=e.props,a=e.type,o={};Object.keys(t).forEach((function(n){!function(e,t,r,n){var a=t.props,o=t.type,s="on"+dr(e)+"Change";a[s]&&void 0!==n[e]&&n[e]!==r[e]&&a[s](Vt({type:o},n))}(n,e,t,r),r[n]!==t[n]&&(o[n]=r[n])})),n.onStateChange&&Object.keys(o).length&&n.onStateChange(Vt({type:a},o))}(g,e,c),a.current=c}),[c,g,n]),[c,p]}var mr={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:function(e,t){if(e){var r=((e,t)=>{var r,n,a,o;if("undefined"==typeof document)return[];const{scrollMode:s,block:i,inline:l,boundary:c,skipOverflowHiddenElements:u}=t,d="function"==typeof c?c:e=>e!==c;if(!Ht(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,g=[];let m=e;for(;Ht(m)&&d(m);){if(m=Kt(m),m===p){g.push(m);break}null!=m&&m===document.body&&Ut(m)&&!Ut(document.documentElement)||null!=m&&Ut(m,u)&&g.push(m)}const h=null!=(n=null==(r=window.visualViewport)?void 0:r.width)?n:innerWidth,b=null!=(o=null==(a=window.visualViewport)?void 0:a.height)?o:innerHeight,{scrollX:f,scrollY:y}=window,{height:v,width:_,top:w,right:E,bottom:k,left:x}=e.getBoundingClientRect(),{top:C,right:S,bottom:I,left:O}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let N="start"===i||"nearest"===i?w-C:"end"===i?k+I:w+v/2-C+I,R="center"===l?x+_/2-O+S:"end"===l?E+S:x-O;const M=[];for(let e=0;e<g.length;e++){const t=g[e],{height:r,width:n,top:a,right:o,bottom:c,left:u}=t.getBoundingClientRect();if("if-needed"===s&&w>=0&&x>=0&&k<=b&&E<=h&&(t===p&&!Ut(t)||w>=a&&k<=c&&x>=u&&E<=o))return M;const d=getComputedStyle(t),m=parseInt(d.borderLeftWidth,10),C=parseInt(d.borderTopWidth,10),S=parseInt(d.borderRightWidth,10),I=parseInt(d.borderBottomWidth,10);let O=0,T=0;const A="offsetWidth"in t?t.offsetWidth-t.clientWidth-m-S:0,P="offsetHeight"in t?t.offsetHeight-t.clientHeight-C-I:0,D="offsetWidth"in t?0===t.offsetWidth?0:n/t.offsetWidth:0,B="offsetHeight"in t?0===t.offsetHeight?0:r/t.offsetHeight:0;if(p===t)O="start"===i?N:"end"===i?N-b:"nearest"===i?jt(y,y+b,b,C,I,y+N,y+N+v,v):N-b/2,T="start"===l?R:"center"===l?R-h/2:"end"===l?R-h:jt(f,f+h,h,m,S,f+R,f+R+_,_),O=Math.max(0,O+y),T=Math.max(0,T+f);else{O="start"===i?N-a-C:"end"===i?N-c+I+P:"nearest"===i?jt(a,c,r,C,I+P,N,N+v,v):N-(a+r/2)+P/2,T="start"===l?R-u-m:"center"===l?R-(u+n/2)+A/2:"end"===l?R-o+S+A:jt(u,o,n,m,S+A,R,R+_,_);const{scrollLeft:e,scrollTop:s}=t;O=0===B?0:Math.max(0,Math.min(s+O/B,t.scrollHeight-r/B+P)),T=0===D?0:Math.max(0,Math.min(e+T/D,t.scrollWidth-n/D+A)),N+=s-O,R+=e-T}M.push({el:t,top:O,left:T})}return M})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});r.forEach((function(e){var t=e.el,r=e.top,n=e.left;t.scrollTop=r,t.scrollLeft=n}))}},environment:"undefined"==typeof window?void 0:window};function hr(e,t,r){void 0===r&&(r=ir);var n=e["default"+dr(t)];return void 0!==n?n:r[t]}function br(e,t,r){void 0===r&&(r=ir);var n=e[t];if(void 0!==n)return n;var a=e["initial"+dr(t)];return void 0!==a?a:hr(e,t,r)}function fr(e,t,r){var n=e.items,a=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,s=e.isItemDisabled,i=e.itemToKey,l=t.selectedItem,c=t.highlightedIndex;return 0===n.length?-1:void 0===a||c!==a||s(n[a],a)?void 0===o||s(n[o],o)?l?n.findIndex((function(e){return i(l)===i(e)})):r<0&&!s(n[n.length-1],n.length-1)?n.length-1:r>0&&!s(n[0],0)?0:-1:o:a}var yr=Zt;function vr(e,t,r){var n;return void 0===r&&(r=!0),Vt({isOpen:!1,highlightedIndex:-1},(null==(n=e.items)?void 0:n.length)&&t>=0&&Vt({selectedItem:e.items[t],isOpen:hr(e,"isOpen"),highlightedIndex:hr(e,"highlightedIndex")},r&&{inputValue:e.itemToString(e.items[t])}))}function _r(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function wr(){var e=c().useRef(!0);return c().useEffect((function(){return e.current=!1,function(){e.current=!0}}),[]),e.current}function Er(e){var t=hr(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var kr=Vt({},{environment:$t().shape({addEventListener:$t().func.isRequired,removeEventListener:$t().func.isRequired,document:$t().shape({createElement:$t().func.isRequired,getElementById:$t().func.isRequired,activeElement:$t().any.isRequired,body:$t().any.isRequired}).isRequired,Node:$t().func.isRequired}),itemToString:$t().func,itemToKey:$t().func,stateReducer:$t().func},{getA11yStatusMessage:$t().func,highlightedIndex:$t().number,defaultHighlightedIndex:$t().number,initialHighlightedIndex:$t().number,isOpen:$t().bool,defaultIsOpen:$t().bool,initialIsOpen:$t().bool,selectedItem:$t().any,initialSelectedItem:$t().any,defaultSelectedItem:$t().any,id:$t().string,labelId:$t().string,menuId:$t().string,getItemId:$t().func,toggleButtonId:$t().string,onSelectedItemChange:$t().func,onHighlightedIndexChange:$t().func,onStateChange:$t().func,onIsOpenChange:$t().func,scrollIntoView:$t().func});Qt(Qt({},kr),{items:$t().array.isRequired,isItemDisabled:$t().func}),Qt(Qt({},mr),{isItemDisabled:function(){return!1}});var xr=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:22,FunctionCloseMenu:17,FunctionOpenMenu:16,FunctionReset:21,FunctionSelectItem:19,FunctionSetHighlightedIndex:18,FunctionSetInputValue:20,FunctionToggleMenu:15,InputBlur:9,InputChange:8,InputClick:10,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEnd:4,InputKeyDownEnter:7,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownPageDown:6,InputKeyDownPageUp:5,ItemClick:13,ItemMouseMove:12,MenuMouseLeave:11,ToggleButtonClick:14});function Cr(e){var t=function(e){var t=br(e,"selectedItem"),r=br(e,"isOpen"),n=function(e){var t=br(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}(e),a=br(e,"inputValue");return{highlightedIndex:n<0&&t&&r?e.items.findIndex((function(r){return e.itemToKey(r)===e.itemToKey(t)})):n,isOpen:r,selectedItem:t,inputValue:a}}(e),r=t.selectedItem,n=t.inputValue;return""===n&&r&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(n=e.itemToString(r)),Vt({},t,{inputValue:n})}Vt({},kr,{items:$t().array.isRequired,isItemDisabled:$t().func,inputValue:$t().string,defaultInputValue:$t().string,initialInputValue:$t().string,inputId:$t().string,onInputValueChange:$t().func});var Sr=Zt,Ir=Vt({},mr,{isItemDisabled:function(){return!1}});function Or(e,t){var r,n,a=t.type,o=t.props,s=t.altKey;switch(a){case 13:n={isOpen:hr(o,"isOpen"),highlightedIndex:Er(o),selectedItem:o.items[t.index],inputValue:o.itemToString(o.items[t.index])};break;case 0:n=e.isOpen?{highlightedIndex:rr(e.highlightedIndex,1,o.items,o.isItemDisabled,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:fr(o,e,1),isOpen:o.items.length>=0};break;case 1:n=e.isOpen?s?vr(o,e.highlightedIndex):{highlightedIndex:rr(e.highlightedIndex,-1,o.items,o.isItemDisabled,!0)}:{highlightedIndex:fr(o,e,-1),isOpen:o.items.length>=0};break;case 7:n=vr(o,e.highlightedIndex);break;case 2:n=Vt({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case 5:n={highlightedIndex:rr(e.highlightedIndex,-10,o.items,o.isItemDisabled,!0)};break;case 6:n={highlightedIndex:rr(e.highlightedIndex,10,o.items,o.isItemDisabled,!0)};break;case 3:n={highlightedIndex:nr(0,!1,o.items,o.isItemDisabled)};break;case 4:n={highlightedIndex:nr(o.items.length-1,!0,o.items,o.isItemDisabled)};break;case 9:n=Vt({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(r=o.items)?void 0:r.length)&&t.selectItem&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case 8:n={isOpen:!0,highlightedIndex:Er(o),inputValue:t.inputValue};break;case 10:n={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:fr(o,e,0)};break;case 19:n={selectedItem:t.selectedItem,inputValue:o.itemToString(t.selectedItem)};break;case 22:n={inputValue:t.inputValue};break;default:return function(e,t,r){var n,a=t.type,o=t.props;switch(a){case r.ItemMouseMove:n={highlightedIndex:t.disabled?-1:t.index};break;case r.MenuMouseLeave:n={highlightedIndex:-1};break;case r.ToggleButtonClick:case r.FunctionToggleMenu:n={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:fr(o,e,0)};break;case r.FunctionOpenMenu:n={isOpen:!0,highlightedIndex:fr(o,e,0)};break;case r.FunctionCloseMenu:n={isOpen:!1};break;case r.FunctionSetHighlightedIndex:n={highlightedIndex:o.isItemDisabled(o.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case r.FunctionSetInputValue:n={inputValue:t.inputValue};break;case r.FunctionReset:n={highlightedIndex:Er(o),isOpen:hr(o,"isOpen"),selectedItem:hr(o,"selectedItem"),inputValue:hr(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return Vt({},e,n)}(e,t,xr)}return Vt({},e,n)}var Nr=["onMouseLeave","refKey","ref"],Rr=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],Mr=["onClick","onPress","refKey","ref"],Tr=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function Ar(e){void 0===e&&(e={}),Sr(e,Ar);var t=Vt({},Ir,e),r=t.items,n=t.scrollIntoView,a=t.environment,o=t.getA11yStatusMessage,s=function(e,t,r,n){var a=(0,l.useRef)(),o=gr(e,t,r,n),s=o[0],i=o[1],c=wr();return(0,l.useEffect)((function(){tr(t,"selectedItem")&&(c||t.itemToKey(t.selectedItem)!==t.itemToKey(a.current)&&i({type:22,inputValue:t.itemToString(t.selectedItem)}),a.current=s.selectedItem===a.current?t.selectedItem:s.selectedItem)}),[s.selectedItem,t.selectedItem]),[er(s,t),i]}(Or,t,Cr,_r),i=s[0],c=s[1],u=i.isOpen,d=i.highlightedIndex,p=i.selectedItem,g=i.inputValue,m=(0,l.useRef)(null),h=(0,l.useRef)({}),b=(0,l.useRef)(null),f=(0,l.useRef)(null),y=wr(),v=ur(t),_=(0,l.useRef)(),w=pr({state:i,props:t}),E=(0,l.useCallback)((function(e){return h.current[v.getItemId(e)]}),[v]);!function(e,t,r,n){void 0===n&&(n={});var a=n.document,o=wr();(0,l.useEffect)((function(){if(e&&!o&&a){var r=e(t);lr(r,a)}}),r),(0,l.useEffect)((function(){return function(){var e,t;lr.cancel(),(t=null==(e=a)?void 0:e.getElementById("a11y-status-message"))&&t.remove()}}),[a])}(o,i,[u,d,p,g],a);var k=function(e){var t=e.highlightedIndex,r=e.isOpen,n=e.itemRefs,a=e.getItemNodeFromIndex,o=e.menuElement,s=e.scrollIntoView,i=(0,l.useRef)(!0);return cr((function(){t<0||!r||!Object.keys(n.current).length||(!1===i.current?i.current=!0:s(a(t),o))}),[t]),i}({menuElement:m.current,highlightedIndex:d,isOpen:u,itemRefs:h,scrollIntoView:n,getItemNodeFromIndex:E});yr({props:t,state:i}),(0,l.useEffect)((function(){br(t,"isOpen")&&b.current&&b.current.focus()}),[]),(0,l.useEffect)((function(){y||(_.current=r.length)}));var x=function(e,t,r){var n=(0,l.useRef)({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return(0,l.useEffect)((function(){if(!e)return Zt;var a=r.map((function(e){return e.current}));function o(){n.current.isTouchEnd=!1,n.current.isMouseDown=!0}function s(r){n.current.isMouseDown=!1,ar(r.target,a,e)||t()}function i(){n.current.isTouchEnd=!1,n.current.isTouchMove=!1}function l(){n.current.isTouchMove=!0}function c(r){n.current.isTouchEnd=!0,n.current.isTouchMove||ar(r.target,a,e,!1)||t()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",s),e.addEventListener("touchstart",i),e.addEventListener("touchmove",l),e.addEventListener("touchend",c),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",s),e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",l),e.removeEventListener("touchend",c)}}),[r,e,t]),n.current}(a,(0,l.useCallback)((function(){w.current.state.isOpen&&c({type:9,selectItem:!1})}),[c,w]),(0,l.useMemo)((function(){return[m,f,b]}),[m.current,f.current,b.current])),C=Zt;(0,l.useEffect)((function(){u||(h.current={})}),[u]),(0,l.useEffect)((function(){var e;u&&null!=a&&a.document&&null!=b&&null!=(e=b.current)&&e.focus&&a.document.activeElement!==b.current&&b.current.focus()}),[u,a]);var S=(0,l.useMemo)((function(){return{ArrowDown:function(e){e.preventDefault(),c({type:0,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),c({type:1,altKey:e.altKey})},Home:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:3}))},End:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:4}))},Escape:function(e){var t=w.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),c({type:2}))},Enter:function(e){w.current.state.isOpen&&229!==e.which&&(e.preventDefault(),c({type:7}))},PageUp:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:5}))},PageDown:function(e){w.current.state.isOpen&&(e.preventDefault(),c({type:6}))}}}),[c,w]),I=(0,l.useCallback)((function(e){return Vt({id:v.labelId,htmlFor:v.inputId},e)}),[v]),O=(0,l.useCallback)((function(e,t){var r,n=void 0===e?{}:e,a=n.onMouseLeave,o=n.refKey,s=void 0===o?"ref":o,i=n.ref,l=Ft(n,Nr),u=(void 0===t?{}:t).suppressRefError;return C("getMenuProps",void 0!==u&&u,s,m),Vt(((r={})[s]=Xt(i,(function(e){m.current=e})),r.id=v.menuId,r.role="listbox",r["aria-labelledby"]=l&&l["aria-label"]?void 0:""+v.labelId,r.onMouseLeave=Jt(a,(function(){c({type:11})})),r),l)}),[c,C,v]),N=(0,l.useCallback)((function(e){var t,r,n=void 0===e?{}:e,a=n.item,o=n.index,s=n.refKey,i=void 0===s?"ref":s,l=n.ref,u=n.onMouseMove,d=n.onMouseDown,p=n.onClick;n.onPress;var g=n.disabled,m=Ft(n,Rr);void 0!==g&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var b=w.current,f=b.props,y=b.state,_=function(e,t,r,n){var a,o;if(void 0===e){if(void 0===t)throw new Error(n);a=r[t],o=t}else o=void 0===t?r.indexOf(e):t,a=e;return[a,o]}(a,o,f.items,"Pass either item or index to getItemProps!"),E=_[0],C=_[1],S=f.isItemDisabled(E,C),I=p;return Vt(((t={})[i]=Xt(l,(function(e){e&&(h.current[v.getItemId(C)]=e)})),t["aria-disabled"]=S,t["aria-selected"]=C===y.highlightedIndex,t.id=v.getItemId(C),t.role="option",t),!S&&((r={}).onClick=Jt(I,(function(){c({type:13,index:C})})),r),{onMouseMove:Jt(u,(function(){x.isTouchEnd||C===y.highlightedIndex||(k.current=!1,c({type:12,index:C,disabled:S}))})),onMouseDown:Jt(d,(function(e){return e.preventDefault()}))},m)}),[c,v,w,x,k]),R=(0,l.useCallback)((function(e){var t,r=void 0===e?{}:e,n=r.onClick;r.onPress;var a=r.refKey,o=void 0===a?"ref":a,s=r.ref,i=Ft(r,Mr),l=w.current.state;return Vt(((t={})[o]=Xt(s,(function(e){f.current=e})),t["aria-controls"]=v.menuId,t["aria-expanded"]=l.isOpen,t.id=v.toggleButtonId,t.tabIndex=-1,t),!i.disabled&&Vt({},{onClick:Jt(n,(function(){c({type:14})}))}),i)}),[c,w,v]),M=(0,l.useCallback)((function(e,t){var r,n=void 0===e?{}:e,o=n.onKeyDown,s=n.onChange,i=n.onInput,l=n.onBlur;n.onChangeText;var u=n.onClick,d=n.refKey,p=void 0===d?"ref":d,g=n.ref,m=Ft(n,Tr),h=(void 0===t?{}:t).suppressRefError;C("getInputProps",void 0!==h&&h,p,b);var f,y=w.current.state,_={};return m.disabled||((f={}).onChange=Jt(s,i,(function(e){c({type:8,inputValue:e.target.value})})),f.onKeyDown=Jt(o,(function(e){var t=function(e){var t=e.key,r=e.keyCode;return r>=37&&r<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}(e);t&&S[t]&&S[t](e)})),f.onBlur=Jt(l,(function(e){if(null!=a&&a.document&&y.isOpen&&!x.isMouseDown){var t=null===e.relatedTarget&&a.document.activeElement!==a.document.body;c({type:9,selectItem:!t})}})),f.onClick=Jt(u,(function(){c({type:10})})),_=f),Vt(((r={})[p]=Xt(g,(function(e){b.current=e})),r["aria-activedescendant"]=y.isOpen&&y.highlightedIndex>-1?v.getItemId(y.highlightedIndex):"",r["aria-autocomplete"]="list",r["aria-controls"]=v.menuId,r["aria-expanded"]=y.isOpen,r["aria-labelledby"]=m&&m["aria-label"]?void 0:v.labelId,r.autoComplete="off",r.id=v.inputId,r.role="combobox",r.value=y.inputValue,r),_,m)}),[c,v,a,S,w,x,C]),T=(0,l.useCallback)((function(){c({type:15})}),[c]),A=(0,l.useCallback)((function(){c({type:17})}),[c]),P=(0,l.useCallback)((function(){c({type:16})}),[c]),D=(0,l.useCallback)((function(e){c({type:18,highlightedIndex:e})}),[c]),B=(0,l.useCallback)((function(e){c({type:19,selectedItem:e})}),[c]);return{getItemProps:N,getLabelProps:I,getMenuProps:O,getInputProps:M,getToggleButtonProps:R,toggleMenu:T,openMenu:P,closeMenu:A,setHighlightedIndex:D,setInputValue:(0,l.useCallback)((function(e){c({type:20,inputValue:e})}),[c]),selectItem:B,reset:(0,l.useCallback)((function(){c({type:21})}),[c]),highlightedIndex:d,isOpen:u,selectedItem:p,inputValue:g}}Ar.stateChangeTypes=xr,$t().array,$t().array,$t().array,$t().func,$t().number,$t().number,$t().number,$t().func,$t().func,$t().string,$t().string;const Pr=(0,m.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,m.createElement)(h.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}));function Dr({rule:e,ruleMetadata:t,searchContent:r,searchResults:n,recentItems:a,isSearching:o,value:s,onSelect:i,placeholder:c,isMultiValue:u=!1,readOnly:d=!1,className:h="",currentSelectedValues:b=[]}){const[y,v]=(0,m.useState)([]),[_,w]=(0,m.useState)(!1),[E,k]=(0,m.useState)(!1),x=(0,m.useRef)(s),C=(0,m.useRef)(e);(0,m.useEffect)((()=>{s!==x.current&&(x.current=s,k(!1))}),[s]);const S=(0,m.useCallback)((e=>{const t=e.id.toString();return b.map((e=>e.toString())).includes(t)}),[b]),I=(0,m.useCallback)((e=>{if(!e)return"";const t=e.title||e.name||"";return""!==e.id&&e.id&&"searching"!==e.type?`${t} (ID: ${e.id})`:t}),[]),O=(0,m.useCallback)((()=>{if(u)return null;if("object_selector"!==t.value_type&&"hierarchical_object_selector"!==t.value_type)return null;if("author_id"===e)return null;let r=(0,p.__)("All Items","generateblocks-pro");if(e.startsWith("post:")){const t=e.replace("post:","");switch(t){case"post":r=(0,p.__)("All Posts","generateblocks-pro");break;case"page":r=(0,p.__)("All Pages","generateblocks-pro");break;default:const e=t.charAt(0).toUpperCase()+t.slice(1);r=`${(0,p.__)("All","generateblocks-pro")} ${e}`}}else e.startsWith("taxonomy:")||e.startsWith("post_terms:")?r=(0,p.__)("All Terms","generateblocks-pro"):"child_of"===e?r=(0,p.__)("Any Parent","generateblocks-pro"):"parent_of"===e&&(r=(0,p.__)("Any Child","generateblocks-pro"));return{id:"",title:r,name:r}}),[e,t.value_type,u]),N=(0,m.useCallback)((e=>{const t=O();return t&&e===(t.title||t.name)}),[O]),R=(0,m.useCallback)((()=>u?0<b.length:s&&s.trim()&&!N(s)),[u,b,s,N]),M=(0,m.useCallback)((e=>{d||(N(e)&&!E||!E?w(!1):(w(!0),r(e)))}),[r,d,N,E]),{isOpen:T,getMenuProps:A,getInputProps:P,highlightedIndex:D,getItemProps:B,selectItem:F,setHighlightedIndex:V,closeMenu:q,openMenu:$,setInputValue:H}=Ar({items:y,itemToString:e=>e?I(e):"",defaultInputValue:u?"":s,onInputValueChange:({inputValue:e,type:t})=>{t===Ar.stateChangeTypes.InputChange&&k(!0),M(e||"")},onSelectedItemChange:({selectedItem:e})=>{e&&"searching"!==e.type&&(k(!1),i(e))},onIsOpenChange:({isOpen:e})=>{e&&(w(!1),k(!1))},stateReducer:(e,t)=>{const{type:r,changes:n}=t;switch(r){case Ar.stateChangeTypes.InputKeyDownEnter:case Ar.stateChangeTypes.ItemClick:return n.selectedItem&&"searching"===n.selectedItem.type?e:{...n,inputValue:u?"":I(n.selectedItem),isOpen:u};case Ar.stateChangeTypes.InputBlur:return{...n,isOpen:!!d&&e.isOpen};case Ar.stateChangeTypes.MenuKeyDownEscape:return{...n,isOpen:!1};case Ar.stateChangeTypes.InputClick:case Ar.stateChangeTypes.InputFocus:return k(!1),w(!1),n;default:return n}}});(0,m.useEffect)((()=>{!E&&H&&H((u?"":s)||"")}),[s,E,u,H]);const z=(0,m.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),d||u)return;const t=O();t?F(t):i({id:"",title:"",name:""})}),[d,u,O,F,i]);(0,m.useEffect)((()=>{if(e!==C.current&&(C.current=e,!u&&(!s||N(s)))){const e=O();e&&F&&setTimeout((()=>{F(e)}),0)}}),[e,u,s,O,F,N]),(0,m.useEffect)((()=>{const e=O(),t=[];o&&_&&E&&t.push({id:"searching",title:(0,p.__)("Searching","generateblocks-pro"),name:(0,p.__)("Searching","generateblocks-pro"),type:"searching"}),e&&t.push(e),_&&E&&0<n.length?t.push(...n):0<a.length&&t.push(...a),v(t)}),[n,a,_,E,O,o]);const U=(0,m.useCallback)((e=>{if(!d||" "!==e.key||(e.preventDefault(),T)){if(T)switch(e.key){case"Tab":if(e.preventDefault(),e.shiftKey){const e=0>=D?y.length-1:D-1;V(e)}else{const e=y.length-1<=D?0:D+1;V(e)}break;case"Enter":e.preventDefault(),0<=D&&y[D]&&"searching"!==y[D].type&&F(y[D]);break;case"Escape":e.preventDefault(),q();break;case" ":d&&T&&(e.preventDefault(),0<=D&&y[D]&&"searching"!==y[D].type&&F(y[D]));break;case"ArrowDown":case"ArrowUp":break;default:d&&1===e.key.length&&e.preventDefault()}}else $()}),[T,D,y,V,F,q,$,d]);return(0,l.createElement)("div",{className:`gb-object-selector ${h}`},(0,l.createElement)("div",{className:"gb-combobox-container"},(0,l.createElement)("div",{className:"gb-input-wrapper"},(0,l.createElement)("input",{...P({placeholder:c,className:"components-text-control__input gb-object-search",onKeyDown:U,"aria-expanded":T,"aria-haspopup":"listbox",tabIndex:0}),style:{cursor:d?"pointer":"text",userSelect:d?"none":"text"}}),(0,l.createElement)("div",{className:"gb-input-icons"},R()&&!d&&(0,l.createElement)(g.Button,{icon:f,onClick:z,className:"gb-clear-button",size:"compact",label:(0,p.__)("Clear selection","generateblocks-pro"),iconSize:"16"}),0<y.length&&(0,l.createElement)("span",{className:"gb-dropdown-indicator "+(T?"gb-dropdown-indicator--open":""),"aria-hidden":"true"},T?Pr:L))),(0,l.createElement)("ul",{...A({className:"gb-search-results",role:"listbox","aria-label":(0,p.__)("Search results","generateblocks-pro"),style:{display:T&&0<y.length?"block":"none"}})},T&&0<y.length&&(0,l.createElement)(l.Fragment,null,!d&&!_&&0<a.length&&!o&&(0,l.createElement)("li",{className:"gb-search-results-header",role:"presentation"},(0,p.__)("Recent Items","generateblocks-pro")),y.map(((e,t)=>{const r=S(e),n=D===t,a="searching"===e.type;return(0,l.createElement)("li",{key:`${e.id}-${t}`,...B({item:e,index:t,role:"option","aria-selected":r}),className:`gb-search-result-item ${n?"gb-search-result-item--highlighted":""} ${r?"gb-search-result-item--selected":""} ${a?"gb-search-result-item--searching":""}`,style:{cursor:a?"default":"pointer"}},a?(0,l.createElement)("div",{className:"gb-search-result-item__searching"},(0,l.createElement)(g.Spinner,{size:"16"}),(0,l.createElement)("span",{className:"gb-search-result-item__text"},e.title||e.name)):(0,l.createElement)(l.Fragment,null,(0,l.createElement)("span",{className:"gb-search-result-item__text"},I(e)),r&&(0,l.createElement)("span",{className:"gb-search-result-item__check","aria-hidden":"true"},"")))}))))))}const Br=({condition:e,groupIndex:t,conditionIndex:r,onUpdate:n,onRemove:a,conditionTypes:o,logicOperator:s="AND",selectedObjectTitles:i,setSelectedObjectTitles:c})=>{const{getRulesForType:u,getOperatorsForType:d}=We(),[h,b]=(0,m.useState)({}),[f,y]=(0,m.useState)({}),[v,_]=(0,m.useState)({}),[w,E]=(0,m.useState)(!1),[k,x]=(0,m.useState)([]),[C,S]=(0,m.useState)([]),[I,O]=(0,m.useState)(""),[N,R]=(0,m.useState)(!1),[M,T]=(0,m.useState)(!1),A=()=>e.type&&e.operator&&e.rule;(0,m.useEffect)((()=>{e.type&&e.operator&&e.rule&&!M&&T(!0)}),[e.type,e.operator,e.rule,M]),(0,m.useEffect)((()=>{e.type&&(async()=>{try{E(!0);const a=await u(e.type);let o;if(b(a),o=e.rule?await d(e.type,e.rule):await d(e.type),y(o),e.operator&&e.rule){const a=await d(e.type,e.rule);if(a&&!a[e.operator]){const o=Object.keys(a)[0];if(o){const a={...e,operator:o};n(t,r,a)}}}}catch(e){console.error("Error loading condition data:",e)}finally{E(!1)}})()}),[e.type,e.rule,u,d]),(0,m.useEffect)((()=>{if(e.type&&e.rule&&e.operator&&0!==Object.keys(f).length&&!f[e.operator]){const a=Object.keys(f)[0];if(a){const o={...e,operator:a};n(t,r,o)}else{const a={...e,operator:""};n(t,r,a)}}}),[e.operator,f]),(0,m.useEffect)((()=>{e.type&&e.rule?(async()=>{try{const t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/get_rule_metadata?type=${e.type}&rule=${encodeURIComponent(e.rule)}`});t.success&&_(t.response)}catch(e){console.error("Error loading rule metadata:",e),_({needs_value:!0,value_type:"text",supports_multi:!1})}})():_({})}),[e.type,e.rule]),(0,m.useEffect)((()=>{B()?S(D()):ee()&&e.rule?(async()=>{try{let t;if("hierarchical_object_selector"===v.value_type)t=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/search_hierarchical_posts"});else if("author_id"===e.rule)t=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/search_users"});else if(e.rule.startsWith("post:")){const r=e.rule.replace("post:","");t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_posts?post_type=${r}`})}else if(e.rule.startsWith("taxonomy:")){const r=e.rule.replace("taxonomy:","");t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?taxonomy=${r}`})}else if(e.rule.startsWith("post_terms:")){const r=e.rule.replace("post_terms:","");t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?taxonomy=${r}`})}t?.success&&S(t.response)}catch(e){console.error("Error loading recent items:",e)}})():S([])}),[e.rule,v.value_type]);const D=()=>[{id:"1",name:(0,p.__)("Monday","generateblocks-pro")},{id:"2",name:(0,p.__)("Tuesday","generateblocks-pro")},{id:"3",name:(0,p.__)("Wednesday","generateblocks-pro")},{id:"4",name:(0,p.__)("Thursday","generateblocks-pro")},{id:"5",name:(0,p.__)("Friday","generateblocks-pro")},{id:"6",name:(0,p.__)("Saturday","generateblocks-pro")},{id:"7",name:(0,p.__)("Sunday","generateblocks-pro")}],B=()=>"day_selector"===v.value_type,L=()=>"datetime"===v.value_type,F=()=>"time"===v.value_type,V=()=>L()&&"between"===e.operator,q=()=>F()&&"between"===e.operator,$=()=>!!e.operator&&(Z()&&G()||ee()&&H()||V()||q()),H=()=>["includes_any","includes_all","excludes_any","excludes_all"].includes(e.operator),z=()=>(e=>{if(!e)return[];if(Array.isArray(e))return e;try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(e){}return[e]})(e.value),U=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},j=e=>e?("string"==typeof e&&(e=new Date(e)),isNaN(e.getTime())?"":`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}T${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`):"",K=()=>{if(!V()||!e.value)return null;const t=e.value.split(",").map((e=>e.trim()));return U(t[0])},Q=()=>{if(!V()||!e.value)return null;const t=e.value.split(",").map((e=>e.trim()));return U(t[1])},W=(e,t)=>{const r=[e?j(e):"",t?j(t):""].filter((e=>e)).join(", ");ne("value",r)},Z=()=>"custom_field"===v.value_type,G=()=>!!Z()&&["equals","contains","not_contains","starts_with","ends_with","greater_than","less_than"].includes(e.operator),Y=()=>Z()&&e.value?e.value.includes("|")?e.value.split("|")[0]:e.value:"",J=()=>Z()&&e.value&&e.value.includes("|")&&e.value.split("|")[1]||"",X=(e,t="")=>{let r=e;t&&G()&&(r=`${e}|${t}`),ne("value",r)},ee=()=>"object_selector"===v.value_type||"hierarchical_object_selector"===v.value_type||"day_selector"===v.value_type,te=()=>{switch(v.value_type){case"custom_field":return"query_arg"===e.type?(0,p.__)("Parameter name","generateblocks-pro"):"post_meta"===e.type?(0,p.__)("Meta key","generateblocks-pro"):(0,p.__)("Field name","generateblocks-pro");case"datetime":return(0,p.__)("Select date and time","generateblocks-pro");case"time":return(0,p.__)("Select time","generateblocks-pro");case"day_selector":return H()?(0,p.__)("Select days","generateblocks-pro"):(0,p.__)("Select day","generateblocks-pro");case"hierarchical_object_selector":return"child_of"===e.rule?H()?(0,p.__)("Select parent posts (or leave empty for any parent)","generateblocks-pro"):(0,p.__)("Any Parent (or search for specific)","generateblocks-pro"):"parent_of"===e.rule?H()?(0,p.__)("Select child posts (or leave empty for any child)","generateblocks-pro"):(0,p.__)("Any Child (or search for specific)","generateblocks-pro"):H()?(0,p.__)("Select multiple","generateblocks-pro"):(0,p.__)("Search or select","generateblocks-pro");case"object_selector":if("author_id"===e.rule)return H()?(0,p.__)("Select multiple authors","generateblocks-pro"):(0,p.__)("Select author","generateblocks-pro");if("location"===e.type&&e.rule.startsWith("post:")){const t=e.rule.replace("post:","");switch(t){case"post":return H()?(0,p.__)("Select multiple posts","generateblocks-pro"):(0,p.__)("All Posts (or search for specific)","generateblocks-pro");case"page":return H()?(0,p.__)("Select multiple pages","generateblocks-pro"):(0,p.__)("All Pages (or search for specific)","generateblocks-pro");default:const e=t.charAt(0).toUpperCase()+t.slice(1);return H()?`${(0,p.__)("Select multiple","generateblocks-pro")} ${e}...`:`${(0,p.__)("All","generateblocks-pro")} ${e} (${(0,p.__)("or search for specific","generateblocks-pro")})`}}return H()?(0,p.__)("Select multiple","generateblocks-pro"):(0,p.__)("Search or select","generateblocks-pro");default:return"referrer"===e.type?(0,p.__)("Referrer URL or domain","generateblocks-pro"):(0,p.__)("Value","generateblocks-pro")}},re=(0,m.useCallback)((async t=>{if(B())return x([]),void R(!1);if(!e.rule||!t)return x([]),void R(!1);try{let r;R(!0);const n=/^\d+$/.test(t.trim()),a=new URLSearchParams;if("hierarchical_object_selector"===v.value_type)n?a.set("id",t.trim()):a.set("search",t),r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_hierarchical_posts?${a.toString()}`});else if("author_id"===e.rule)n?a.set("id",t.trim()):a.set("search",t),r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_users?${a.toString()}`});else if(e.rule.startsWith("post:")){const o=e.rule.replace("post:","");a.set("post_type",o),n?a.set("id",t.trim()):a.set("search",t),r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_posts?${a.toString()}`})}else if(e.rule.startsWith("taxonomy:")){const o=e.rule.replace("taxonomy:","");a.set("taxonomy",o),n?a.set("id",t.trim()):a.set("search",t),r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?${a.toString()}`})}else if(e.rule.startsWith("post_terms:")){const o=e.rule.replace("post_terms:","");a.set("taxonomy",o),n?a.set("id",t.trim()):a.set("search",t),r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?${a.toString()}`})}r?.success&&x(r.response)}catch(e){console.error("Error searching content:",e)}finally{R(!1)}}),[e.rule,v.value_type]),ne=(a,o)=>{T(!0);const s={...e,[a]:o};if("type"===a){if(s.rule="",s.operator="",s.value="",o){const e={location:{operator:"is",rule:"general:front_page"},user_role:{operator:"is",rule:"general:logged_in"},date_time:{operator:"after",rule:"current_date"},device:{operator:"is",rule:"mobile"},query_arg:{operator:"exists",rule:"custom"},referrer:{operator:"contains",rule:"custom"},post_meta:{operator:"exists",rule:"custom"},user_meta:{operator:"exists",rule:"custom"},cookie:{operator:"exists",rule:"custom"},language:{operator:"is",rule:"locale"},options:{operator:"equals",rule:"custom"},author:{operator:"is",rule:"author_id"}}[o]||{operator:null,rule:null};e.operator&&(s.operator=e.operator),e.rule&&(s.rule=e.rule)}}else"operator"===a?H()!==["includes_any","includes_all","excludes_any","excludes_all"].includes(o)&&(s.value=""):"rule"===a&&(s.value="",c((e=>{const n={...e};return delete n[`${t}-${r}`],Object.keys(n).forEach((e=>{e.startsWith(`${t}-${r}-`)&&delete n[e]})),n})));n(t,r,s)};return(0,l.createElement)("div",{className:(()=>{let e="gb-condition-row";return M&&A()?e+=" gb-condition-complete":M&&!A()&&(e+=" gb-condition-incomplete"),e})()},(0,l.createElement)("div",{className:"gb-condition-row-main"},0===r?(0,l.createElement)("div",{className:"gb-logic-label"},(0,l.createElement)("span",{className:`gb-logic-operator gb-logic-${s.toLowerCase()}`},"IF")):(0,l.createElement)("div",{className:"gb-logic-label"},(0,l.createElement)("span",{className:`gb-logic-operator gb-logic-${s.toLowerCase()}`},s)),(0,l.createElement)("div",{className:"gb-condition-fields"},(0,l.createElement)(g.SelectControl,{value:e.type,onChange:e=>ne("type",e),options:[{label:(0,p.__)("Select type","generateblocks-pro"),value:""},...Object.entries(o).sort((([,e],[,t])=>e.label.localeCompare(t.label))).map((([e,t])=>({label:t.label,value:e})))],className:"gb-condition-type",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),w&&(0,l.createElement)(g.Spinner,null),e.type&&!w&&(0,l.createElement)(g.SelectControl,{value:e.operator,onChange:e=>ne("operator",e),options:[{label:(0,p.__)("Select operator","generateblocks-pro"),value:""},...Object.entries(f).map((([e,t])=>({label:t,value:e})))],className:"gb-condition-operator",disabled:w,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),e.type&&!w&&(0,l.createElement)(g.SelectControl,{value:e.rule,onChange:e=>ne("rule",e),options:[{label:(0,p.__)("Select rule","generateblocks-pro"),value:""},...Object.entries(h).filter((([t])=>"date_time"!==e.type||"time_of_day"!==t||"time_of_day"===e.rule)).map((([e,t])=>({label:t,value:e})))],className:"gb-condition-rule",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),e.rule&&e.operator&&!$()&&(0,l.createElement)(l.Fragment,null,Z()&&!G()&&(0,l.createElement)(g.TextControl,{value:Y(),onChange:e=>X(e),placeholder:te(),className:"gb-condition-value",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),!(!e.operator||["exists","not_exists"].includes(e.operator))&&(void 0===v.needs_value||v.needs_value)&&!Z()&&!ee()&&!L()&&!F()&&(0,l.createElement)(g.TextControl,{value:e.value||"",onChange:e=>ne("value",e),placeholder:te(),className:"gb-condition-value",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),L()&&!V()&&(0,l.createElement)(Bt,{currentDate:L()&&e.value&&!V()?U(e.value):null,onChange:e=>{const t=j(e);ne("value",t)},placeholder:te()}),F()&&!q()&&(0,l.createElement)(Lt,{currentTime:e.value||"",onChange:e=>ne("value",e),placeholder:te()}),ee()&&!H()&&(0,l.createElement)(Dr,{rule:e.rule,ruleMetadata:v,searchContent:re,searchResults:k,recentItems:C,isSearching:N,value:(()=>{let n=i[`${t}-${r}`];if(!n&&e.value&&e.value.trim()){const a=`${t}-${r}-${e.value.trim()}`;n=i[a]}if(n)return e.value&&e.value.trim()&&!n.startsWith("ID: ")?`${n} (ID: ${e.value.trim()})`:n;if(!e.value||""===e.value){if("author_id"===e.rule)return"";if(e.rule.startsWith("post:")){const t=e.rule.replace("post:","");switch(t){case"post":return(0,p.__)("All Posts","generateblocks-pro");case"page":return(0,p.__)("All Pages","generateblocks-pro");default:const e=t.charAt(0).toUpperCase()+t.slice(1);return`${(0,p.__)("All","generateblocks-pro")} ${e}`}}else{if(e.rule.startsWith("taxonomy:")||e.rule.startsWith("post_terms:"))return(0,p.__)("All Terms","generateblocks-pro");if("child_of"===e.rule)return(0,p.__)("Any Parent","generateblocks-pro");if("parent_of"===e.rule)return(0,p.__)("Any Child","generateblocks-pro")}return(0,p.__)("All Items","generateblocks-pro")}return e.value&&e.value.trim()?`ID: ${e.value.trim()}`:""})(),onSelect:e=>{ne("value",e.id.toString()),c((n=>({...n,[`${t}-${r}`]:e.title||e.name}))),x([])},placeholder:te(),isMultiValue:!1,readOnly:B(),className:"gb-inline-selector",currentSelectedValues:[e.value||""]}))),(0,l.createElement)(g.Button,{isDestructive:!0,variant:"tertiary",icon:Je,onClick:()=>a(t,r),className:"gb-remove-condition",label:(0,p.__)("Remove condition","generateblocks-pro"),size:"compact",iconSize:"16"})),e.rule&&e.operator&&$()&&(0,l.createElement)("div",{className:"gb-condition-expansion"},Z()&&G()&&(0,l.createElement)("div",{className:"gb-custom-field-expansion"},(0,l.createElement)("div",{className:"gb-custom-field-inputs"},(0,l.createElement)(g.TextControl,{value:Y(),onChange:e=>X(e,J()),label:te(),className:"gb-condition-custom-field"}),(0,l.createElement)(g.TextControl,{value:J(),onChange:e=>X(Y(),e),label:(0,p.__)("Value to compare","generateblocks-pro"),className:"gb-condition-comparison-value"}))),V()&&(0,l.createElement)("div",{className:"gb-date-range-expansion"},(0,l.createElement)("div",{className:"gb-date-range-inputs"},(0,l.createElement)("div",{className:"gb-datetime-picker-field"},(0,l.createElement)("div",{className:"components-base-control__label"},(0,p.__)("Start Date & Time","generateblocks-pro")),(0,l.createElement)(Bt,{currentDate:K(),onChange:e=>W(e,Q()),placeholder:(0,p.__)("Select start date","generateblocks-pro")})),(0,l.createElement)("div",{className:"gb-datetime-picker-field"},(0,l.createElement)("div",{className:"components-base-control__label"},(0,p.__)("End Date & Time","generateblocks-pro")),(0,l.createElement)(Bt,{currentDate:Q(),onChange:e=>W(K(),e),placeholder:(0,p.__)("Select end date","generateblocks-pro")})))),q()&&(0,l.createElement)("div",{className:"gb-time-range-expansion"},(0,l.createElement)("div",{className:"gb-time-range-inputs"},(0,l.createElement)("div",{className:"gb-time-picker-field"},(0,l.createElement)("div",{className:"components-base-control__label"},(0,p.__)("Start Time","generateblocks-pro")),(0,l.createElement)(Lt,{currentTime:e.value?e.value.split(",")[0]?.trim():"",onChange:t=>{const r=e.value?e.value.split(",")[1]?.trim():"";ne("value",t&&r?`${t}, ${r}`:t||"")},placeholder:(0,p.__)("Select start time","generateblocks-pro")})),(0,l.createElement)("div",{className:"gb-time-picker-field"},(0,l.createElement)("div",{className:"components-base-control__label"},(0,p.__)("End Time","generateblocks-pro")),(0,l.createElement)(Lt,{currentTime:e.value?e.value.split(",")[1]?.trim():"",onChange:t=>{const r=e.value?e.value.split(",")[0]?.trim():"";ne("value",r&&t?`${r}, ${t}`:t||"")},placeholder:(0,p.__)("Select end time","generateblocks-pro")})))),ee()&&H()&&(0,l.createElement)("div",{className:"gb-multi-select-expansion"},(0,l.createElement)("div",{className:"gb-multi-object-selector"},(0,l.createElement)("div",{className:"gb-selected-items"},0===z().length?(0,l.createElement)("div",{className:"gb-empty-selection"},(0,l.createElement)("span",null,(0,p.__)("No items selected","generateblocks-pro"))):z().map((e=>{const n=i[`${t}-${r}-${e}`]||`ID: ${e}`;return(0,l.createElement)("div",{key:e,className:"gb-selected-item"},(0,l.createElement)("span",null,n),(0,l.createElement)(g.Button,{icon:P,onClick:()=>(e=>{const n=z().filter((t=>t!==e));ne("value",n.length>0?JSON.stringify(n):""),c((n=>{const a={...n};return delete a[`${t}-${r}-${e}`],a}))})(e),className:"gb-remove-selected-item",size:"compact",iconSize:"12",label:(0,p.__)("Remove item","generateblocks-pro")}))}))),(0,l.createElement)(Dr,{rule:e.rule,ruleMetadata:v,searchContent:re,searchResults:k,recentItems:C,isSearching:N,value:I,onSelect:e=>{const n=z(),a=e.id.toString();if(!n.includes(a)){const o=[...n,a];ne("value",JSON.stringify(o)),c((n=>({...n,[`${t}-${r}-${a}`]:e.title||e.name})))}O(""),x([])},placeholder:B()?(0,p.__)("Click to select days","generateblocks-pro"):(0,p.__)("Search to add items","generateblocks-pro"),isMultiValue:!0,readOnly:B(),className:"",currentSelectedValues:z()})))))};function Lr(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(Lr);if("object"==typeof e){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=Lr(e[r]));return t}return e}function Fr(e,t){if(e===t)return!0;if(null===e||null===t||"object"!=typeof e||"object"!=typeof t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){if(!n.includes(a))return!1;if(!Fr(e[a],t[a]))return!1}return!0}function Vr({onNavigateBack:e,onSave:t=null,initialConditions:r=null,initialTitle:n="",conditionId:a=null,isNew:o=!1,onUnsavedChanges:s=null}){const{conditionTypes:i,loading:c}=We(),u=Me({mutationFn:async({title:e,conditions:t,category:r,status:n})=>{let a;a=r?Array.isArray(r)?r:[r]:[];const o=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/conditions/",method:"POST",data:{title:e,conditions:t||{logic:"OR",groups:[]},category:a.length>0?a:"",status:n||"publish"}});if(o.success)return o.response;throw new Error("Failed to create condition")},onSuccess:()=>{ze()}}),d=Me({mutationFn:async({id:e,title:t,conditions:r,category:n,status:a})=>{let o;o=n?Array.isArray(n)?n:[n]:[];const s=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${e}`,method:"PUT",data:{title:t,category:o.length>0?o:"",conditions:r,status:a}});if(s.success)return s.response;throw new Error("Failed to update condition")},onSuccess:()=>{ze()}}),h=(0,m.useRef)(null),b=!!a&&!o,f=(0,m.useMemo)((()=>({conditions:r?.groups?.length>0?Lr(r):{logic:"OR",groups:[{logic:"AND",conditions:[{type:"",rule:"",operator:"",value:""}]}]},conditionTitle:n||"",selectedObjectTitles:{},isSaving:!1})),[r,n]),[y,v]=(0,m.useState)(f.conditions),[_,w]=(0,m.useState)(f.conditionTitle),[E,k]=(0,m.useState)(""),[x,C]=(0,m.useState)("publish"),[S,I]=(0,m.useState)([]),[N,R]=(0,m.useState)(!1),[M,T]=(0,m.useState)(f.selectedObjectTitles),[A,P]=(0,m.useState)(f.isSaving),[D,B]=(0,m.useState)(null),[L,F]=(0,m.useState)(null);(0,m.useEffect)((()=>{v(r?.groups?.length>0?Lr(r):{logic:"OR",groups:[{logic:"AND",conditions:[{type:"",rule:"",operator:"",value:""}]}]}),w(n||""),T({})}),[r,n]),(0,m.useEffect)((()=>{b&&a&&(async()=>{try{const e=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${a}`});if(e?.success){if(e.response?.gblocks_condition_cat?.length>0){const t=e.response.gblocks_condition_cat[0],r=await Ae()({path:`/wp/v2/condition-categories/${t}`});r&&r.slug&&k(r.slug)}e.response?.status&&(C(e.response.status),F((t=>({...t,conditionStatus:e.response.status}))))}}catch(e){}})()}),[b,a]),(0,m.useEffect)((()=>{(async()=>{try{const e=await Ae()({path:"/wp/v2/condition-categories"});e&&I(e)}catch(e){}})()}),[]),(0,m.useEffect)((()=>{v(f.conditions),w(f.conditionTitle),T(f.selectedObjectTitles),P(f.isSaving),B(null),F({conditions:Lr(f.conditions),conditionTitle:f.conditionTitle,conditionStatus:"publish"})}),[f]);const V=(0,m.useMemo)((()=>!!L&&!Fr({conditions:y,conditionTitle:_,conditionStatus:x},L)),[y,_,x,L]);(0,m.useEffect)((()=>{s&&s(V);const e=new CustomEvent("gb-conditions-unsaved-changes",{detail:{hasUnsavedChanges:V}});window.dispatchEvent(e)}),[V,s]),(0,m.useEffect)((()=>{if(!V)return;const e=e=>(e.preventDefault(),e.returnValue=(0,p.__)("You have unsaved changes. Are you sure you want to leave?","generateblocks-pro"),e.returnValue);return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[V]),(0,m.useEffect)((()=>{y.groups&&(h.current&&h.current.abort(),(async()=>{h.current=new AbortController;try{await q(h.current.signal)}catch(e){"AbortError"!==e.name&&console.debug("Title loading failed:",e)}})())}),[y.groups]),(0,m.useEffect)((()=>()=>{h.current&&h.current.abort()}),[]);const q=async e=>{const t={};for(let r=0;r<y.groups.length;r++){const n=y.groups[r];for(let a=0;a<n.conditions.length;a++){const o=n.conditions[a];if(e?.aborted)throw new Error("AbortError");if(!o.rule||!o.value)continue;const s=$(o.value);if(0!==s.length)if("date_time"!==o.type||"day_of_week"!==o.rule){if(o.rule.startsWith("post:")||o.rule.startsWith("taxonomy:")||o.rule.startsWith("post_terms:")||"child_of"===o.rule||"parent_of"===o.rule||"author_id"===o.rule)for(const n of s){if(!n)continue;if(e?.aborted)throw new Error("AbortError");const s=["includes_any","includes_all","excludes_any","excludes_all"].includes(o.operator)?`${r}-${a}-${n}`:`${r}-${a}`;if(t[s])continue;let i=null;if("author_id"===o.rule)i=await K(n,e);else if("child_of"===o.rule||"parent_of"===o.rule)i=await j(n,e);else if(o.rule.startsWith("post:")){const t=o.rule.replace("post:","");i=await z(n,t,e)}else if(o.rule.startsWith("taxonomy:")||o.rule.startsWith("post_terms:")){let t;t=o.rule.startsWith("taxonomy:")?o.rule.replace("taxonomy:",""):o.rule.replace("post_terms:",""),i=await U(n,t,e)}t[s]=i||`ID: ${n}`}}else for(const e of s)t[["includes_any","includes_all","excludes_any","excludes_all"].includes(o.operator)?`${r}-${a}-${e}`:`${r}-${a}`]=H(e)}}T(t)},$=e=>{if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(e){}return[e]},H=e=>({1:(0,p.__)("Monday","generateblocks-pro"),2:(0,p.__)("Tuesday","generateblocks-pro"),3:(0,p.__)("Wednesday","generateblocks-pro"),4:(0,p.__)("Thursday","generateblocks-pro"),5:(0,p.__)("Friday","generateblocks-pro"),6:(0,p.__)("Saturday","generateblocks-pro"),7:(0,p.__)("Sunday","generateblocks-pro")}[e]||e),z=async(e,t,r=null)=>{try{const n=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_posts?post_type=${t}`,signal:r});if(n?.success&&n.response){const t=n.response.find((t=>t.id.toString()===e.toString()));if(t)return t.title}const a=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_posts?post_type=${t}&id=${encodeURIComponent(e)}`,signal:r});if(a?.success&&a.response){const t=a.response.find((t=>t.id.toString()===e.toString()));if(t)return t.title}}catch(r){if("AbortError"===r.name)throw r;console.debug("Could not fetch post title for ID:",e,"Type:",t,r)}return null},U=async(e,t,r=null)=>{try{const n=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?taxonomy=${t}`,signal:r});if(n?.success&&n.response){const t=n.response.find((t=>t.id.toString()===e.toString()));if(t)return t.name}const a=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_terms?taxonomy=${t}&id=${encodeURIComponent(e)}`,signal:r});if(a?.success&&a.response){const t=a.response.find((t=>t.id.toString()===e.toString()));if(t)return t.name}}catch(r){if("AbortError"===r.name)throw r;console.debug("Could not fetch term name for ID:",e,"Taxonomy:",t,r)}return null},j=async(e,t=null)=>{try{const r=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/search_hierarchical_posts",signal:t});if(r?.success&&r.response){const t=r.response.find((t=>t.id.toString()===e.toString()));if(t)return t.title.replace(/^(\s*)+/,"")}const n=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_hierarchical_posts?id=${encodeURIComponent(e)}`,signal:t});if(n?.success&&n.response){const t=n.response.find((t=>t.id.toString()===e.toString()));if(t)return t.title.replace(/^(\s*)+/,"")}}catch(t){if("AbortError"===t.name)throw t;console.debug("Could not fetch hierarchical post title for ID:",e,t)}return null},K=async(e,t=null)=>{try{const r=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/search_users",signal:t});if(r?.success&&r.response){const t=r.response.find((t=>t.id.toString()===e.toString()));if(t)return t.name||t.title}const n=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/search_users?id=${encodeURIComponent(e)}`,signal:t});if(n?.success&&n.response){const t=n.response.find((t=>t.id.toString()===e.toString()));if(t)return t.name||t.title}}catch(t){if("AbortError"===t.name)throw t;console.debug("Could not fetch user name for ID:",e,t)}return null},Q=(e,t,r)=>{v((n=>{const a={...n};return a.groups[e].conditions[t]=r,a}))},W=(e,t)=>{v((r=>({...r,groups:r.groups.map(((r,n)=>{if(n!==e)return r;const a=r.conditions.filter(((e,r)=>r!==t));return{...r,conditions:a}})).filter((e=>0<e.conditions.length))})))},Z=async(e,r)=>{try{let n;if(n=b?await d.mutateAsync({id:a,title:e,conditions:r,category:E,status:x}):await u.mutateAsync({title:e,conditions:r,category:E,status:x}),!n)throw new Error("Failed to save condition");t&&t({id:n.id||a,title:e,conditions:r,isNew:!b})}catch(e){throw console.error("Error saving condition:",e),B((0,p.__)("Failed to save condition. Please try again.","generateblocks-pro")),e}},G=!o||_.trim();return(0,l.createElement)("div",{className:"gb-conditions-editor"},(0,l.createElement)("div",{className:"gb-conditions-editor-header"},(0,l.createElement)("div",{className:"gb-conditions-title-section"},(0,l.createElement)(g.TextControl,{label:(0,p.__)("Condition Name","generateblocks-pro"),value:_,onChange:w,placeholder:(0,p.__)("Enter condition name","generateblocks-pro"),className:"gb-condition-title-input",disabled:A,hideLabelFromVision:!0}),(0,l.createElement)(g.SelectControl,{label:(0,p.__)("Category","generateblocks-pro"),value:E,onChange:e=>{"new"===e?R(!0):k(e)},options:[{label:(0,p.__)("No category","generateblocks-pro"),value:""},...S.map((e=>({label:(0,O.decodeEntities)(e.name),value:e.slug}))),{label:(0,p.__)("+ Add new category","generateblocks-pro"),value:"new"}],className:"gb-condition-category-select",disabled:A,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),(0,l.createElement)("div",{className:"gb-conditions-header-actions"},(0,l.createElement)(g.SelectControl,{label:(0,p.__)("Status","generateblocks-pro"),value:x,onChange:C,options:[{label:(0,p.__)("Published","generateblocks-pro"),value:"publish"},{label:(0,p.__)("Draft","generateblocks-pro"),value:"draft"}],className:"gb-condition-status-select",disabled:A,hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,l.createElement)(g.Button,{variant:"secondary",onClick:()=>{if(V){const e=(0,p.__)("You have unsaved changes. Are you sure you want to go back without saving?","generateblocks-pro");if(!window.confirm(e))return}e()},disabled:A},(0,p.__)("Cancel","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:async()=>{try{if(B(null),!_.trim())return void B((0,p.__)("Please enter a condition name.","generateblocks-pro"));const e=(e=>{const t=[];return e.groups&&0!==e.groups.length?(e.groups.forEach(((e,r)=>{e.conditions&&0!==e.conditions.length?e.conditions.filter((e=>e.type)).forEach((n=>{const a=e.conditions.indexOf(n)+1,o=(0,p.sprintf)(
// translators: %1$s is the condition number (1-based index), %2$s is the group number (1-based index).
// translators: %1$s is the condition number (1-based index), %2$s is the group number (1-based index).
(0,p.__)("Condition %1$s in Group %2$s","generateblocks-pro"),a,r+1);n.operator||t.push(`${o}: ${(0,p.__)("Please select an operator.","generateblocks-pro")}`),n.rule||t.push(`${o}: ${(0,p.__)("Please select a rule.","generateblocks-pro")}`)})):t.push((0,p.sprintf)(
// translators: %d is the group number (1-based index).
// translators: %d is the group number (1-based index).
(0,p.__)("Group %d has no conditions.","generateblocks-pro"),r+1))})),{isValid:0===t.length,errors:t}):{isValid:!0,errors:[]}})(y);if(!e.isValid){const t=(0,p.__)("Please complete the following:","generateblocks-pro")+"\n\n"+e.errors.join("\n");return void B(t)}if(!y.groups||0===y.groups.length)return void await Z(_,{logic:"OR",groups:[]});P(!0);const t=(e=>{if(!e.groups)return e;const t=e.groups.map((e=>({...e,conditions:e.conditions.filter((e=>!!(e.type&&e.operator&&e.rule)||(e.type||e.operator||e.rule||e.value,!1)))}))).filter((e=>e.conditions.length>0));return{...e,groups:t}})(y);if(!(await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/validate_conditions",method:"POST",data:{conditions:t}})).success)return void B((0,p.__)("Condition validation failed. Please check your configuration and try again.","generateblocks-pro"));await Z(_,t)}catch(e){console.error("Error saving condition:",e);let t=(0,p.__)("Failed to save condition. Please try again.","generateblocks-pro");e.message&&e.message.includes("validation")&&(t=(0,p.__)("Condition validation failed. Please check that all fields are properly filled out.","generateblocks-pro")),B(t)}finally{P(!1)}},disabled:!_.trim()||A,isBusy:A},A?(0,p.__)("Saving","generateblocks-pro"):(0,p.__)("Save Conditions","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-conditions-content"},V&&(0,l.createElement)(g.Notice,{status:"info",isDismissible:!1,className:"gb-conditions-unsaved-notice"},(0,p.__)("You have unsaved changes.","generateblocks-pro")),!!D&&(0,l.createElement)(g.Notice,{status:"error",isDismissible:!1,className:"gb-conditions-error-notice"},(0,l.createElement)("div",{style:{whiteSpace:"pre-line"}},D)),c?(0,l.createElement)("div",{className:"gb-loading"},(0,l.createElement)(g.Spinner,null),(0,l.createElement)("p",null,(0,p.__)("Loading condition types","generateblocks-pro"))):(0,l.createElement)(l.Fragment,null,G&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gb-conditions-groups"},y.groups&&0<y.groups.length?y.groups.map(((e,t)=>(0,l.createElement)("div",{key:t,className:"gb-condition-group"},(0,l.createElement)("div",{className:"gb-group-header"},(0,l.createElement)("div",{className:"gb-group-logic"},(0,l.createElement)("span",{className:"gb-group-label"},(0,p.__)("Group Logic","generateblocks-pro")),(0,l.createElement)(g.SelectControl,{value:e.logic,onChange:e=>((e,t)=>{v((r=>{const n={...r};return n.groups[e].logic=t,n}))})(t,e),options:[{label:(0,p.__)("AND","generateblocks-pro"),value:"AND"},{label:(0,p.__)("OR","generateblocks-pro"),value:"OR"}],className:"gb-group-logic-select",disabled:A,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),1<y.groups.length&&(0,l.createElement)(g.Button,{isDestructive:!0,variant:"tertiary",icon:Je,onClick:()=>(e=>{v((t=>({...t,groups:t.groups.filter(((t,r)=>r!==e))})))})(t),className:"gb-remove-group",label:(0,p.__)("Remove group","generateblocks-pro"),size:"compact",iconSize:"16",disabled:A})),(0,l.createElement)("div",{className:"gb-group-conditions"},e.conditions.map(((r,n)=>(0,l.createElement)(Br,{key:n,condition:r,groupIndex:t,conditionIndex:n,onUpdate:Q,onRemove:W,conditionTypes:i,logicOperator:e.logic,selectedObjectTitles:M,setSelectedObjectTitles:T})))),(0,l.createElement)(g.Button,{variant:"secondary",icon:Xe,onClick:()=>(e=>{v((t=>({...t,groups:t.groups.map(((t,r)=>r===e?{...t,conditions:[...t.conditions,{type:"",rule:"",operator:"",value:""}]}:t))})))})(t),className:"gb-add-condition",disabled:A},(0,p.__)("Add","generateblocks-pro")," ",e.logic.toUpperCase()," ",(0,p.__)("condition","generateblocks-pro"))))):(0,l.createElement)("div",{className:"gb-no-conditions"},(0,l.createElement)("p",null,(0,p.__)("No conditions set","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",icon:Xe,onClick:()=>{v({logic:"OR",groups:[{logic:"AND",conditions:[{type:"",rule:"",operator:"",value:""}]}]})},disabled:A},(0,p.__)("Add first condition","generateblocks-pro")))),y.groups&&0===y.groups.length&&G&&(0,l.createElement)("div",{className:"gb-conditions-help-text"},(0,l.createElement)("p",null,(0,p.__)("Create your first condition to control when this content should appear.","generateblocks-pro"))),y.groups&&0<y.groups.length&&(0,l.createElement)(g.Button,{variant:"tertiary",icon:Xe,onClick:()=>{v((e=>({...e,logic:e.logic||"OR",groups:[...e.groups,{logic:"AND",conditions:[{type:"",rule:"",operator:"",value:""}]}]})))},className:"gb-add-group",disabled:A},"AND"===(y.logic||"OR")?(0,p.__)("Add AND condition group","generateblocks-pro"):(0,p.__)("Add OR condition group","generateblocks-pro")),y.groups&&1<y.groups.length&&(0,l.createElement)("div",{className:"gb-top-level-logic"},(0,l.createElement)(g.SelectControl,{label:(0,p.__)("How should these condition groups be combined?","generateblocks-pro"),value:y.logic||"OR",onChange:e=>{v((t=>({...t,logic:e})))},options:[{label:(0,p.__)("OR - Show if ANY group matches","generateblocks-pro"),value:"OR"},{label:(0,p.__)("AND - Show only if ALL groups match","generateblocks-pro"),value:"AND"}],help:"OR"===(y.logic||"OR")?(0,p.__)("Content will show if any condition group is satisfied.","generateblocks-pro"):(0,p.__)("Content will show only if all condition groups are satisfied.","generateblocks-pro"),disabled:A,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),(0,l.createElement)(At,{conditions:y,onConditionsImport:e=>{v(e)}})),o&&!_.trim()&&(0,l.createElement)("div",{className:"gb-conditions-help-text"},(0,l.createElement)("p",null,(0,p.__)("Enter a condition name above to start building your conditions.","generateblocks-pro"))))),(0,l.createElement)(Pt,{isOpen:N,onClose:()=>R(!1),onCreateCategory:async({name:e,slug:t})=>{try{await Ae()({path:"/wp/v2/condition-categories",method:"POST",data:{name:e,slug:t}})&&(I([...S,{name:e,slug:t}]),k(t))}catch(e){throw e}}}))}function qr(e){return(0,l.createElement)(T,{client:He()},(0,l.createElement)(Vr,{...e}))}function $r({condition:e,onClose:t}){const{conditionTypes:r,getRulesForType:n,getOperatorsForType:a}=We(),{loadObjectTitles:o}=function(){const e=He();return{loadObjectTitles:(0,m.useCallback)((async t=>{if(!t||0===t.length)return{};const r=[],n={};if(t.forEach((t=>{const a=["object-title",t.type,t.id],o=e.getQueryData(a);o?n[`${t.type}-${t.id}`]=o:r.push(t)})),0===r.length)return n;const a=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/batch_object_titles",method:"POST",data:{requests:r}});return a.success&&a.response?(Object.entries(a.response).forEach((([t,r])=>{const[n,a]=t.split("-");e.setQueryData(["object-title",n,a],r)})),{...n,...a.response}):n}),[e])}}(),[s,i]=(0,m.useState)({}),[c,u]=(0,m.useState)({}),[d,h]=(0,m.useState)({}),[b,f]=(0,m.useState)(!0);(0,m.useEffect)((()=>{(async()=>{try{f(!0);const t=e.gbConditions||{groups:[]},r=new Set,o={},s={};t.groups?.forEach((e=>{e.conditions?.forEach((e=>{e.type&&r.add(e.type)}))}));for(const e of r)try{const t=await n(e);o[e]=t;const r=await a(e);s[e]=r}catch(t){console.error(`Error loading data for type ${e}:`,t)}u(o),h(s),await y(t)}catch(e){console.error("Error loading condition data:",e)}finally{f(!1)}})()}),[e,n,a,o]);const y=async e=>{const t=[];if(e.groups?.forEach((e=>{e.conditions?.forEach((e=>{if(!e.rule||!e.value)return;const r=v(e.value);0!==r.length&&(e.rule.startsWith("post:")||e.rule.startsWith("taxonomy:")||e.rule.startsWith("post_terms:")||"child_of"===e.rule||"parent_of"===e.rule||"date_time"===e.type&&"day_of_week"===e.rule)&&r.forEach((r=>{r&&t.push({type:e.type,rule:e.rule,value:r})}))}))})),t.length>0){const e=t.map((e=>{let t;return t=e.rule.startsWith("post:")?"post":e.rule.startsWith("taxonomy:")||e.rule.startsWith("post_terms:")?"term":"author_id"===e.rule?"user":e.type,{type:t,id:e.value}})),r=await o(e);i(r)}},v=e=>{if(!e)return[];try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(e){}return[e]},_=e.gbConditions||{groups:[]},w=_.groups&&0<_.groups.length;return(0,l.createElement)(g.Modal,{title:e.title?.rendered||e.title||(0,p.__)("Untitled Condition","generateblocks-pro"),onRequestClose:t,className:"gb-modal-condition-details",size:"medium"},(0,l.createElement)("div",{className:"gb-modal-details-content"},b?(0,l.createElement)("div",{className:"gb-modal-loading"},(0,l.createElement)(g.Spinner,null),(0,l.createElement)("p",null,(0,p.__)("Loading condition details","generateblocks-pro"))):(0,l.createElement)("div",{className:"gb-modal-details-body"},w?(0,l.createElement)(l.Fragment,null,1<_.groups.length&&(0,l.createElement)("div",{className:"gb-modal-main-logic"},(0,l.createElement)("strong",null,(0,p.__)("Overall Logic:","generateblocks-pro"))," ","AND"===_.logic?(0,p.__)("ALL condition groups must match","generateblocks-pro"):(0,p.__)("ANY condition group can match","generateblocks-pro")),(0,l.createElement)("div",{className:"gb-modal-condition-groups"},_.groups.map(((e,t)=>(0,l.createElement)("div",{key:t,className:"gb-modal-condition-group"},(0,l.createElement)("div",{className:"gb-modal-group-header"},(0,l.createElement)("h4",null,1<_.groups.length?`${(0,p.__)("Group","generateblocks-pro")} ${t+1}`:(0,p.__)("Conditions","generateblocks-pro")),1<e.conditions.length&&(0,l.createElement)("span",{className:"gb-modal-group-logic-badge"},"AND"===e.logic?(0,p.__)("ALL must match","generateblocks-pro"):(0,p.__)("ANY can match","generateblocks-pro"))),(0,l.createElement)("div",{className:"gb-modal-condition-list"},e.conditions.filter((e=>e.type&&e.rule&&e.operator)).map(((e,t)=>{return(0,l.createElement)("div",{key:t,className:"gb-modal-condition-item"},(0,l.createElement)("div",{className:"gb-modal-condition-summary"},(0,l.createElement)("span",{className:"gb-modal-condition-type-badge"},(o=e.type,r[o]?.label||o)),(0,l.createElement)("span",{className:"gb-modal-condition-rule-badge"},((e,t)=>c[e]?.[t]||t)(e.type,e.rule)),(0,l.createElement)("span",{className:"gb-modal-condition-operator-badge"},((e,t)=>d[e]?.[t]||t)(e.type,e.operator))),(!(!(n=e).value||!n.value.trim())||(a=n.operator,!["exists","not_exists"].includes(a)))&&(0,l.createElement)("div",{className:"gb-modal-condition-value"},(0,l.createElement)("strong",null,(0,p.__)("Value:","generateblocks-pro"))," ",(e=>{if(!e.value)return(0,p.__)("(no value)","generateblocks-pro");if("date_time"===e.type&&"day_of_week"===e.rule){const t=v(e.value);return 0===t.length?(0,p.__)("(no days selected)","generateblocks-pro"):t.map((e=>e)).join(", ")}if(e.value.includes("|")){const t=e.value.split("|",2);return(0,l.createElement)("div",{className:"gb-modal-custom-field-value"},(0,l.createElement)("div",null,(0,l.createElement)("strong",null,(0,p.__)("Field:","generateblocks-pro"))," ",t[0]),t[1]&&(0,l.createElement)("div",null,(0,l.createElement)("strong",null,(0,p.__)("Value:","generateblocks-pro"))," ",t[1]))}if(e.value.includes(",")&&"between"===e.operator){const t=e.value.split(",").map((e=>e.trim()));return(0,l.createElement)("div",{className:"gb-modal-date-range-value"},(0,l.createElement)("div",null,(0,l.createElement)("strong",null,(0,p.__)("From:","generateblocks-pro"))," ",t[0]),(0,l.createElement)("div",null,(0,l.createElement)("strong",null,(0,p.__)("To:","generateblocks-pro"))," ",t[1]||(0,p.__)("(not set)","generateblocks-pro")))}const t=v(e.value);if(0===t.length)return e.value;const r=t.map((t=>{let r;return r=e.rule.startsWith("post:")?"post":e.rule.startsWith("taxonomy:")||e.rule.startsWith("post_terms:")?"term":"author_id"===e.rule?"user":e.type,s[`${r}-${t}`]||t}));return 1===r.length?r[0]:r.join(", ")})(e)));var n,a,o})))))))):(0,l.createElement)("div",{className:"gb-modal-no-conditions"},(0,l.createElement)("p",null,(0,p.__)("This condition has no rules configured.","generateblocks-pro"))))))}const Hr=(0,m.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,m.createElement)(h.Path,{d:"m11.3 17.2-5-5c-.1-.1-.1-.3 0-.4l2.3-2.3-1.1-1-2.3 2.3c-.7.7-.7 1.8 0 2.5l5 5H7.5v1.5h5.3v-5.2h-1.5v2.6zm7.5-6.4-5-5h2.7V4.2h-5.2v5.2h1.5V6.8l5 5c.1.1.1.3 0 .4l-2.3 2.3 1.1 1.1 2.3-2.3c.6-.7.6-1.9-.1-2.5z"}));function zr({usageData:e,loading:t,error:r,emptyMessage:n,onRetry:a,formatUsageType:o}){const s=o||(e=>({global_style_usage:(0,p.__)("Global Style Usage","generateblocks-pro"),manual_class_usage:(0,p.__)("Manual Class Usage","generateblocks-pro"),overlay_display_condition:(0,p.__)("Overlay Display Condition","generateblocks-pro"),block_conditions:(0,p.__)("Block Conditions","generateblocks-pro"),menu_item_conditions:(0,p.__)("Menu Item Conditions","generateblocks-pro")}[e]||e)),i=e&&e.usage&&0<Object.keys(e.usage).length,c=e?.limitations?.recent_post_scan,u=!!c,d=e?.has_more&&!u;return(0,l.createElement)("div",{className:"gb-modal-usage-content"},t&&(0,l.createElement)("div",{className:"gb-modal-loading"},(0,l.createElement)(g.Spinner,null),(0,l.createElement)("p",null,(0,p.__)("Searching for usage","generateblocks-pro"))),!t&&r&&(0,l.createElement)("div",{className:"gb-modal-error"},(0,l.createElement)("p",{style:{color:"#d63638"}},r),(0,l.createElement)(g.Button,{variant:"secondary",onClick:a},(0,p.__)("Try Again","generateblocks-pro"))),e&&!r&&(0,l.createElement)("div",{className:"gb-modal-usage-body"},!i&&(0,l.createElement)("div",{className:"gb-modal-no-usage"},(0,l.createElement)("p",{style:{fontSize:"16px",textAlign:"center",color:"#666"}},n),(0,l.createElement)("p",{style:{fontSize:"14px",textAlign:"center",color:"#999"}},(0,p.__)("You can safely delete it, or keep it for future use.","generateblocks-pro"))),i&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gb-modal-usage-summary"},(0,l.createElement)("p",{style:{fontSize:"14px",color:"#666",margin:"0"}},(0,p.__)("Found usage in","generateblocks-pro")," ",(0,l.createElement)("strong",null,e.total),e.has_more&&"+"," ",1===e.total?(0,p.__)("location","generateblocks-pro"):(0,p.__)("locations","generateblocks-pro"))),e.cached&&e.cached_at&&(0,l.createElement)("div",{style:{background:"#f0f6fc",border:"1px solid #0969da",padding:"12px 16px",borderRadius:"4px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"5px"}},(0,l.createElement)("span",{style:{fontSize:"13px",color:"#0969da"}},(0,p.sprintf)(/* translators: %s: time ago (e.g., "5 minutes") */ /* translators: %s: time ago (e.g., "5 minutes") */
(0,p.__)("Showing cached results from %s ago.","generateblocks-pro"),(e=>{const t=Math.floor(Date.now()/1e3)-e;if(t<60)return(0,p.__)("less than a minute","generateblocks-pro");if(t<3600){const e=Math.max(1,Math.floor(t/60));return(0,p.sprintf)(/* translators: %d: number of minutes */ /* translators: %d: number of minutes */
(0,p._n)("%d minute","%d minutes",e,"generateblocks-pro"),e)}const r=Math.max(1,Math.floor(t/3600));return(0,p.sprintf)(/* translators: %d: number of hours */ /* translators: %d: number of hours */
(0,p._n)("%d hour","%d hours",r,"generateblocks-pro"),r)})(e.cached_at))),(0,l.createElement)(g.Button,{variant:"secondary",size:"compact",onClick:a,icon:Hr},(0,p.__)("Refresh","generateblocks-pro"))),u&&(0,l.createElement)("div",{style:{background:"#f0f6fc",border:"1px solid #0969da",padding:"12px",borderRadius:"4px",marginBottom:"16px"}},(0,l.createElement)("p",{style:{margin:"0",fontSize:"13px",color:"#0969da"}},(0,l.createElement)("strong",null,(0,p.__)("Heads up:","generateblocks-pro"))," ",c.total_posts&&c.total_posts>c.scanned_posts?(0,p.sprintf)(/* translators: 1: number of posts scanned, 2: total eligible posts */ /* translators: 1: number of posts scanned, 2: total eligible posts */
(0,p.__)("For performance, only the most recent %1$d of %2$d eligible posts were scanned. Older content may still reference this item.","generateblocks-pro"),c.scanned_posts,c.total_posts):(0,p.sprintf)(/* translators: %d: number of posts scanned */ /* translators: %d: number of posts scanned */
(0,p.__)("For performance, the search was limited to the most recent %d posts. Older content may still reference this item.","generateblocks-pro"),c.scanned_posts||c.max_posts))),d&&(0,l.createElement)("div",{style:{background:"#f0f6fc",border:"1px solid #0969da",padding:"12px",borderRadius:"4px",marginBottom:"16px"}},(0,l.createElement)("p",{style:{margin:"0",fontSize:"13px",color:"#0969da"}},(0,l.createElement)("strong",null,(0,p.__)("Note:","generateblocks-pro"))," ",(0,p.__)("Results limited to most recent posts for performance. There may be additional usage in older content.","generateblocks-pro"))),(0,l.createElement)("div",{className:"gb-modal-usage-sections"},Object.entries(e.usage).map((([e,t])=>(0,l.createElement)("div",{key:e,className:"gb-modal-usage-section"},(0,l.createElement)("h4",{className:"gb-modal-usage-section-title"},t.label,(0,l.createElement)("span",{className:"gb-modal-usage-count"},"(",t.items.length,t.has_more&&"+",")")),(0,l.createElement)("div",{className:"gb-modal-usage-items"},t.items.map((e=>(0,l.createElement)("div",{key:`${e.type}-${e.id}`,className:"gb-modal-usage-item"},(0,l.createElement)("div",{className:"gb-modal-usage-item-main"},(0,l.createElement)("div",{className:"gb-modal-usage-item-title"},(0,l.createElement)("strong",null,e.title),e.status&&(e=>{const t={publish:(0,p.__)("Published","generateblocks-pro"),draft:(0,p.__)("Draft","generateblocks-pro"),private:(0,p.__)("Private","generateblocks-pro")},r={publish:{bg:"#d1fae5",color:"#065f46",border:"#a7f3d0"},draft:{bg:"#fef3c7",color:"#92400e",border:"#fcd34d"},private:{bg:"#e0e7ff",color:"#3730a3",border:"#c7d2fe"}},n=r[e]||r.draft;return(0,l.createElement)("span",{style:{background:n.bg,color:n.color,border:`1px solid ${n.border}`,padding:"2px 6px",borderRadius:"4px",fontSize:"11px",fontWeight:"500",textTransform:"uppercase"}},t[e]||e)})(e.status)),(0,l.createElement)("div",{className:"gb-modal-usage-item-meta"},(0,l.createElement)("span",{className:"gb-modal-usage-item-type"},e.type_label),(0,l.createElement)("span",{className:"gb-modal-usage-item-usage-type"},s(e.usage_type),e.block_count>1&&(0,l.createElement)("span",{style:{marginLeft:"5px",opacity:.7}},"(",e.block_count," ",(0,p.__)("blocks","generateblocks-pro"),")")))),(0,l.createElement)("div",{className:"gb-modal-usage-item-actions"},e.edit_url&&(0,l.createElement)(g.Button,{variant:"secondary",size:"compact",icon:et,href:e.edit_url,target:"_blank",iconSize:"14"},(0,p.__)("Edit","generateblocks-pro")),e.view_url&&(0,l.createElement)(g.Button,{variant:"tertiary",size:"compact",icon:A,href:e.view_url,target:"_blank",iconSize:"14"},(0,p.__)("View","generateblocks-pro"))))))))))))))}function Ur({condition:e,onClose:t}){const{usageData:r,loading:n,error:a,reload:o}=function(e,t=50){const[r,n]=(0,m.useState)(null),[a,o]=(0,m.useState)(!0),[s,i]=(0,m.useState)(null),l=(0,m.useRef)(null),c=(0,m.useCallback)((async(r=!1)=>{l.current&&l.current.abort(),l.current=new AbortController;const a=l.current;try{o(!0),i(null);const s=e.includes("?")?"&":"?",l=r?"&refresh=true":"",c=await Ae()({path:`${e}${s}limit=${t}${l}`,signal:a.signal});if(!c.success)return void i(c.response||(0,p.__)("Failed to load usage data","generateblocks-pro"));const u=c.response.data||c.response;n(u)}catch(e){if("AbortError"===e.name)return;console.error("Error loading usage data:",e);const t=e?.message||(0,p.__)("Error loading usage data. Please try again.","generateblocks-pro");i(t)}finally{o(!1)}}),[e,t]);return(0,m.useEffect)((()=>(c(!1),()=>{l.current&&l.current.abort()})),[c]),{usageData:r,loading:a,error:s,reload:(0,m.useCallback)((()=>{c(!0)}),[c])}}(`/generateblocks-pro/advanced-conditions/v1/conditions/${e.id}/usage`);return(0,l.createElement)(g.Modal,{title:e.title?.rendered||e.title||(0,p.__)("Untitled Condition","generateblocks-pro"),onRequestClose:t,className:"gb-modal-condition-usage",size:"medium"},(0,l.createElement)(zr,{usageData:r,loading:n,error:a,emptyMessage:(0,p.__)("This condition is not currently being used anywhere on your site.","generateblocks-pro"),onRetry:o}))}function jr({conditions:e,onEditCondition:t,refreshKey:r}){const n=Me({mutationFn:async e=>{const t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${e}`,method:"DELETE"});if(t.success)return t.response;throw new Error("Failed to delete condition")},onSuccess:()=>{ze()}}),a=Me({mutationFn:async({id:e,status:t})=>{const r=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${e}`,method:"PUT",data:{status:t}});if(r.success)return r.response;throw new Error("Failed to update condition status")},onSuccess:()=>{ze()}}),o=Me({mutationFn:async e=>{const t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${e}`});if(!t?.success)throw new Error("Failed to fetch condition for duplication");const r=t.response;let n=r.title;"object"==typeof n&&n?.rendered&&(n=n.rendered);let a=r.gblocks_condition_cat||r.category||[];Array.isArray(a)||(a=a?[a]:[]);let o=[];if(a.length>0){const e=await Ae()({path:"/wp/v2/condition-categories?include="+a.join(",")});e&&Array.isArray(e)&&(o=e.map((e=>e.slug)))}const s=r.gbConditions||r.conditions||{logic:"OR",groups:[]},i=await Ae()({path:"/generateblocks-pro/advanced-conditions/v1/conditions/",method:"POST",data:{title:n+" (Copy)",conditions:s,category:o,status:r.status||"publish"}});if(i.success)return i.response;throw new Error("Failed to duplicate condition")},onSuccess:()=>{ze(),He().invalidateQueries({queryKey:["condition-categories"]})}}),[s,i]=(0,m.useState)(null),[c,u]=(0,m.useState)(null),[d,h]=(0,m.useState)(null),[b,f]=(0,m.useState)([]),y=He();(0,m.useEffect)((()=>{(async()=>{try{const e=await Ae()({path:"/wp/v2/condition-categories"});e&&f(e)}catch(e){}})()}),[r]);const v=(0,m.useMemo)((()=>[{id:"name",header:(0,p.__)("Name","generateblocks-pro"),accessorKey:"title.rendered",cell:e=>{const r=e.row.original,n="draft"===r.status;return(0,l.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},(0,l.createElement)(g.Button,{variant:"link",onClick:()=>t(r)},e.getValue()),n&&(0,l.createElement)("span",{style:{color:"#999",fontSize:"0.9em"}},"(",(0,p.__)("draft","generateblocks-pro"),")"))}},{id:"category",header:(0,p.__)("Category","generateblocks-pro"),cell:e=>{const t=e.row.original,r=t.gblocks_condition_cat?.[0];if(!r)return(0,l.createElement)("span",{className:"gb-condition-category gb-condition-category--uncategorized"},(0,p.__)("Uncategorized","generateblocks-pro"));const n=b.find((e=>e.id===r)),a=n?(0,O.decodeEntities)(n.name):`ID: ${r}`;return(0,l.createElement)("span",{className:"gb-condition-category"},a)}},{id:"conditions_count",header:(0,p.__)("Conditions","generateblocks-pro"),cell:e=>{const t=e.row.original,r=t.gbConditions||{groups:[]},n=r.groups?.reduce(((e,t)=>e+(t.conditions?.filter((e=>e.type&&e.rule&&e.operator)).length||0)),0)||0;return 0===n?(0,l.createElement)(l.Fragment,null,(0,p.__)("No conditions","generateblocks-pro")):(0,l.createElement)(g.Button,{variant:"link",iconSize:"14",onClick:()=>u(t),className:"gb-conditions-details-button"},n," ",1===n?(0,p.__)("condition","generateblocks-pro"):(0,p.__)("conditions","generateblocks-pro"))}},{id:"actions",header:null,cell:e=>{const{status:r,id:n}=e.row.original;return(0,l.createElement)(g.DropdownMenu,{icon:je,label:(0,p.__)("More options","generateblocks-pro"),className:"gb-cloud-public-keys__dropdown",popoverProps:{placement:"left"}},(({onClose:s})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{t(e.row.original),s()}},(0,p.__)("Edit Condition","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{onClick:()=>{o.mutateAsync(n).then((e=>{y.invalidateQueries({queryKey:["conditions"]}),e&&t(e)})),s()}},(0,p.__)("Duplicate","generateblocks-pro"))),(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{h(e.row.original),s()}},(0,p.__)("Check Usage","generateblocks-pro"))),(0,l.createElement)(g.MenuGroup,null,(0,l.createElement)(g.MenuItem,{onClick:()=>{const e="publish"===r?"draft":"publish";a.mutateAsync({id:n,status:e}).then((()=>{y.invalidateQueries({queryKey:["conditions"]})})),s()}},"publish"===r?(0,p.__)("Set as Draft","generateblocks-pro"):(0,p.__)("Publish","generateblocks-pro")),(0,l.createElement)(g.MenuItem,{isDestructive:!0,onClick:()=>{i(n),s()}},(0,p.__)("Delete Condition","generateblocks-pro"))))))}}]),[t,b]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gb-dashboard-table-wrapper"},e.length?(0,l.createElement)(Ke.Table,{className:"gb-dashboard-table table-view-list",columns:v,data:e,"aria-labelledby":"conditions-table-header"}):(0,l.createElement)("p",{style:{marginTop:"0"}},(0,p.__)("No conditions found.","generateblocks-pro"))),!!s&&(0,l.createElement)(g.Modal,{title:(0,p.__)("Confirm","generateblocks-pro"),isDismissible:!1,onRequestClose:()=>null,style:{maxWidth:"300px"}},(0,l.createElement)("div",{style:{marginBottom:"1em"}},(0,p.__)("This will permanently delete this condition. You cannot undo this action.","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"primary",onClick:async()=>{await n.mutateAsync(s),y.invalidateQueries({queryKey:["conditions"]}),i(null)}},(0,p.__)("OK","generateblocks-pro")),(0,l.createElement)(g.Button,{variant:"tertiary",onClick:()=>i(null)},(0,p.__)("Cancel","generateblocks-pro"))),c&&(0,l.createElement)($r,{condition:c,onClose:()=>u(null)}),d&&(0,l.createElement)(Ur,{condition:d,onClose:()=>h(null)}))}const Kr={taxonomyConfig:{slug:"gblocks_condition_cat",restBase:"condition-categories",labels:{singular:(0,p.__)("Category","generateblocks-pro"),plural:(0,p.__)("Categories","generateblocks-pro"),uncategorized:(0,p.__)("Uncategorized","generateblocks-pro"),itemsCount:"conditions"}},itemsEndpoint:"/generateblocks-pro/advanced-conditions/v1/conditions",itemsTaxonomyField:"gblocks_condition_cat",manageEndpoint:"/generateblocks-pro/advanced-conditions/v1/manage_category"};function Qr({onNavigateBack:e,onCategoriesChange:t}){return(0,l.createElement)("div",{className:"gb-categories-manager"},(0,l.createElement)(rt,{...Kr,onNavigateBack:e,onTaxonomyChange:t}))}function Wr({isModalMode:e=!1,onConditionSelect:t=null,onCreateCondition:r=null}={}){const[n,a]=(0,m.useState)((()=>{const e=new URLSearchParams(window.location.search);return parseInt(e.get("conditionPage")||"1",10)})),[o,s]=(0,m.useState)("list"),[i,c]=(0,m.useState)({conditionId:null,initialConditions:null,initialTitle:"",isNew:!1}),{data:u,isLoading:d}=Qe(20,n),h=u?.conditions||[],b=u?.pages||1,[f,y]=(0,m.useState)(0),v=He(),_=(0,m.useMemo)((()=>h&&h.length>0?h.map((e=>{const t=e.title?.rendered||e.title||"Untitled";return{...e,title:{...e.title,rendered:t}}})):[]),[h]);(0,m.useEffect)((()=>{if(e)return;const t=new URLSearchParams(window.location.search),r=t.get("edit");if(t.get("categories"))s("categories");else if(r&&"new"!==r){const e=_.find((e=>e.id.toString()===r));e&&(c({conditionId:e.id,initialConditions:e.gbConditions||{logic:"OR",groups:[]},initialTitle:e.title?.rendered||"",isNew:!1}),s("edit"))}else"new"===r?(c({conditionId:null,initialConditions:{logic:"OR",groups:[]},initialTitle:"",isNew:!0}),s("edit")):s("list")}),[_,e]);const w=(t,r=null)=>{if(e)return;const n=new URL(window.location);"edit"===t?(r?n.searchParams.set("edit",r):n.searchParams.set("edit","new"),n.searchParams.delete("categories")):"categories"===t?(n.searchParams.set("categories","manage"),n.searchParams.delete("edit")):(n.searchParams.delete("edit"),n.searchParams.delete("categories")),window.history.pushState({},"",n)};(0,m.useEffect)((()=>{if(e)return;const t=new URL(window.location);t.searchParams.set("conditionPage",n),window.history.replaceState({},"",t)}),[n,e]);const E=e=>{a(e)},k=()=>{s("list"),w("list"),c({conditionId:null,initialConditions:null,initialTitle:"",isNew:!1})};if((0,m.useEffect)((()=>{if(e)return;const t=()=>{const e=new URLSearchParams(window.location.search),t=e.get("edit");if(e.get("categories"))s("categories");else if(t&&"new"!==t){const e=_.find((e=>e.id.toString()===t));e&&(c({conditionId:e.id,initialConditions:e.gbConditions||{logic:"OR",groups:[]},initialTitle:e.title?.rendered||"",isNew:!1}),s("edit"))}else"new"===t?(c({conditionId:null,initialConditions:{logic:"OR",groups:[]},initialTitle:"",isNew:!0}),s("edit")):s("list")};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}),[_,e]),d)return(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)(g.Spinner,null));const x={list:(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)("div",{className:"gb-dashboard-admin__header"},(0,l.createElement)("div",{className:"gb-dashboard-admin__header-buttons"},(0,l.createElement)(g.Button,{variant:"primary",onClick:()=>{e&&r?r():(c({conditionId:null,initialConditions:{logic:"OR",groups:[]},initialTitle:"",isNew:!0}),s("edit"),w("edit"))}},(0,p.__)("Add New","generateblocks-pro"))),(0,l.createElement)("div",{className:"gb-dashboard-admin__header-buttons-right"},(0,l.createElement)(g.Button,{variant:"secondary",onClick:()=>{s("categories"),w("categories")}},(0,p.__)("Manage Categories","generateblocks-pro")))),(0,l.createElement)("div",{className:"gb-dashboard-admin__inner"},(0,l.createElement)(jr,{conditions:_,onEditCondition:r=>{e&&t?t(r):(c({conditionId:r.id,initialConditions:r.gbConditions||{logic:"OR",groups:[]},initialTitle:r.title?.rendered||"",isNew:!1}),s("edit"),w("edit",r.id))},refreshKey:f}),b>1&&(0,l.createElement)("div",{className:"gb-dashboard__pagination"},(0,l.createElement)(g.Button,{disabled:1===n,onClick:()=>E(n-1),variant:"secondary"},(0,p.__)("Previous","generateblocks-pro")),(0,l.createElement)("span",null,(0,p.sprintf)(
// translators: %1$s: current page, %2$s: total pages
// translators: %1$s: current page, %2$s: total pages
(0,p.__)("Page %1$s of %2$s","generateblocks-pro"),n,b)),(0,l.createElement)(g.Button,{disabled:n===b,onClick:()=>E(n+1),variant:"secondary"},(0,p.__)("Next","generateblocks-pro"))))),edit:(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)(qr,{onNavigateBack:k,onSave:async()=>{v.invalidateQueries({queryKey:["conditions"]}),k()},conditionId:i.conditionId,initialConditions:i.initialConditions,initialTitle:i.initialTitle,isNew:i.isNew})),categories:(0,l.createElement)("div",{className:"gb-dashboard-admin"},(0,l.createElement)(Qr,{onNavigateBack:()=>{s("list"),w("list")},onCategoriesChange:()=>{y((e=>e+1))}}))},C=e?{list:x.list,categories:x.categories}:x,S=e?["list","categories"]:["list","edit","categories"];return(0,l.createElement)(D,{currentView:o,views:C,viewOrder:S,className:"gb-conditions-dashboard",minHeight:400})}function Zr(e){return(0,l.createElement)(T,{client:He()},(0,l.createElement)(Wr,{...e}))}function Gr({trigger:e,conditionId:t=null,modalProps:r={}}){var n;const[a,o]=(0,m.useState)(t),s=He(),{data:i,isLoading:c}=function(e){return Oe({queryKey:["condition",e],queryFn:async()=>{const t=await Ae()({path:`/generateblocks-pro/advanced-conditions/v1/conditions/${e}`});if(t?.success)return t.response;throw new Error("Failed to fetch condition")},enabled:!!e&&"new"!==e,staleTime:12e4,cacheTime:3e5})}(a),u={backButton:(0,p.__)("Back to Conditions","generateblocks-pro"),createNew:(0,p.__)("Create New Condition","generateblocks-pro"),edit:(0,p.__)("Edit Condition","generateblocks-pro"),dashboard:(0,p.__)("Conditions","generateblocks-pro")},d=(0,l.createElement)(Zr,null),g=a&&("new"===a?(0,l.createElement)(qr,{conditionId:null,initialConditions:{logic:"OR",groups:[]},initialTitle:""}):!c&&i&&(0,l.createElement)(qr,{conditionId:i.id,initialConditions:i?.gbConditions||{logic:"OR",groups:[]},initialTitle:i?.title?.rendered?.replace(` (${(0,p.__)("inactive","generateblocks-pro")})`,"")||""}));return(0,m.useEffect)((()=>{o(t)}),[t]),null!==(n=window.gbConditionsPermissions?.canManageConditions)&&void 0!==n&&n?(0,l.createElement)(B,{trigger:e,itemId:a,itemType:"condition",dashboardView:d,editorView:g,modalProps:r,labels:u,className:"gb-conditions-dashboard-fullscreen",getNewTabUrl:e=>Ge("admin.php",{page:"generateblocks-conditions",edit:e}),onItemSelect:e=>{o(e),e&&"new"!==e&&s.invalidateQueries({queryKey:["condition",e]})}}):null}(0,e.addFilter)("generateblocks.editor.sidebar","generateblocks/sidebar/conditions",(function(e,{activePanel:t}){var r;return t?e:null!==(r=window.gbConditionsPermissions?.canManageConditions)&&void 0!==r&&r?(0,l.createElement)(l.Fragment,null,e,(0,l.createElement)(g.PanelBody,null,(0,l.createElement)("h2",{className:"gblocks-editor-sidebar__panel-title"},(0,p.__)("Conditions","generateblocks")),(0,l.createElement)(T,{client:He()},(0,l.createElement)(Gr,{trigger:(0,l.createElement)(g.Button,{variant:"secondary"},(0,p.__)("Manage Conditions","generateblocks-pro"))})))):e}));const Yr={menu1:{label:(0,p._x)("Menu 1","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"12",x:"0.5"}))},menu2:{label:(0,p._x)("Menu 2","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 8",height:"8",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6",x:"0.5"}))},menu3:{label:(0,p._x)("Menu 3","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"11.6364",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"11.6364",y:"12",x:"4.86353"}))},menu4:{label:(0,p._x)("Menu 4","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 0.5 14)",rx:"1",height:"2",width:"11.6364"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 0.5 8)",rx:"1",height:"2",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 4.86353 2)",rx:"1",height:"2",width:"11.6364"}))},menu5:{label:(0,p._x)("Menu 5","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"11.6364",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"2.90909",x:"13.5908"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"11.6364",y:"12",x:"4.86377"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"2.90909",y:"12",x:"0.5"}))},menu6:{label:(0,p._x)("Menu 6","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 0)",rx:"1",height:"2",width:"11.6364"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3.40918 0)",rx:"1",height:"2",width:"2.90909"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 6)",rx:"1",height:"2",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 12.1362 12)",rx:"1",height:"2",width:"11.6364"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 12)",rx:"1",height:"2",width:"2.90909"}))},menu7:{label:(0,p._x)("Menu 7","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"13.0909",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6",x:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"11.6364",y:"12",x:"0.5"}))},menu8:{label:(0,p._x)("Menu 8","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",height:"14",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 0)",rx:"1",height:"2",width:"13.0909"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 6)",rx:"1",height:"2",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16.5 12)",rx:"1",height:"2",width:"11.6364"}))},menu9:{label:(0,p._x)("Menu 9","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 15",height:"15",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 6.5)",rx:"1",height:"2",width:"13"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 0.5)",rx:"1",height:"2",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 12.5)",rx:"1",height:"2",width:"10"}))},menu10:{label:(0,p._x)("Menu 10","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 15",height:"15",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"13",y:"6.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"0.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"10",y:"12.5"}))},menu11:{label:(0,p._x)("Menu 11","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 15",height:"15",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"10.1818",y:"0.5",x:"2.90918"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"16",y:"6.5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"1",height:"2",width:"10.1818",y:"12.5",x:"2.90918"}))},menu12:{label:(0,p._x)("Menu 12","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 3 15",height:"15",width:"3"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 0)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 6)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 12)",rx:"1.5",height:"3",width:"3"}))},menu13:{label:(0,p._x)("Menu 13","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 3",height:"3",width:"15"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 15 3)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 9 3)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 3 3)",rx:"1.5",height:"3",width:"3"}))},menu14:{label:(0,p._x)("Menu 14","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 15 15",height:"15",width:"15"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 0)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 6)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 3 12)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 9 0)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 9 6)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 9 12)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 15 0)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 15 6)",rx:"1.5",height:"3",width:"3"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 15 12)",rx:"1.5",height:"3",width:"3"}))},close:{label:(0,p._x)("Close","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 13 13",height:"13",width:"13"},(0,l.createElement)("rect",{fill:"currentColor",transform:"rotate(-45 0 11.4497)",rx:"1",height:"2",width:"16",y:"11.4497"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 13 11.4497)",rx:"1",height:"2",width:"16"}))}},Jr={menu1:{label:(0,p._x)("Menu 1","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"12"}))},menu2:{label:(0,p._x)("Menu 2","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 7",height:"7",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}))},menu3:{label:(0,p._x)("Menu 3","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"11"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"11",y:"12",x:"5"}))},menu4:{label:(0,p._x)("Menu 4","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 14",height:"14",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 0 14)",rx:"0.5",height:"1",width:"11"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 0 8)",rx:"0.5",height:"1",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1 0 0 -1 5 2)",rx:"0.5",height:"1",width:"11"}))},menu5:{label:(0,p._x)("Menu 5","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"12"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"2",x:"14"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"11",y:"12",x:"5"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"3",y:"12"}))},menu6:{label:(0,p._x)("Menu 6","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 0)",rx:"0.5",height:"1",width:"12"}),(0,l.createElement)("path",{fill:"currentColor",d:"M2 0.5C2 0.223858 1.77614 0 1.5 0H0.5C0.223858 0 0 0.223858 0 0.5V0.5C0 0.776142 0.223858 1 0.5 1H1.5C1.77614 1 2 0.776142 2 0.5V0.5Z"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 6)",rx:"0.5",height:"1",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 12 12)",rx:"0.5",height:"1",width:"12"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 12)",rx:"0.5",height:"1",width:"2"}))},menu7:{label:(0,p._x)("Menu 7","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"13"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"12",y:"12"}))},menu8:{label:(0,p._x)("Menu 8","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("path",{fill:"currentColor",d:"M16 0.5C16 0.223858 15.7761 0 15.5 0H2.5C2.22386 0 2 0.223858 2 0.5V0.5C2 0.776142 2.22386 1 2.5 1H15.5C15.7761 1 16 0.776142 16 0.5V0.5Z"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 6)",rx:"0.5",height:"1",width:"16"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 12)",rx:"0.5",height:"1",width:"12"}))},menu9:{label:(0,p._x)("Menu 9","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 6)",rx:"0.5",height:"1",width:"13"}),(0,l.createElement)("path",{fill:"currentColor",d:"M16 0.5C16 0.223858 15.7761 0 15.5 0H0.5C0.223858 0 0 0.223858 0 0.5V0.5C0 0.776142 0.223858 1 0.5 1H15.5C15.7761 1 16 0.776142 16 0.5V0.5Z"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 16 12)",rx:"0.5",height:"1",width:"10"}))},menu10:{label:(0,p._x)("Menu 10","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 13",height:"13",width:"17"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"13",y:"6",x:"1"}),(0,l.createElement)("path",{fill:"currentColor",d:"M0.866025 0.5C0.866025 0.223858 1.08988 0 1.36603 0H16.366C16.6422 0 16.866 0.223858 16.866 0.5V0.5C16.866 0.776142 16.6422 1 16.366 1H1.36603C1.08988 1 0.866025 0.776142 0.866025 0.5V0.5Z"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"10",y:"12",x:"1"}))},menu11:{label:(0,p._x)("Menu 11","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 13",height:"13",width:"16"},(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"10",x:"3"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"16",y:"6"}),(0,l.createElement)("rect",{fill:"currentColor",rx:"0.5",height:"1",width:"10",y:"12",x:"3"}))},menu12:{label:(0,p._x)("Menu 12","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 2 14",height:"14",width:"2"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 0)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 6)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 12)",rx:"1",height:"2",width:"2"}))},menu13:{label:(0,p._x)("Menu 13","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 2",height:"2",width:"14"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 14 2)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 8 2)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(1.19249e-08 -1 -1 -1.19249e-08 2 2)",rx:"1",height:"2",width:"2"}))},menu14:{label:(0,p._x)("Menu 14","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",height:"14",width:"14"},(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 0)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 6)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 2 12)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 8 0)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 8 6)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 8 12)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 14 0)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 14 6)",rx:"1",height:"2",width:"2"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-1 0 0 1 14 12)",rx:"1",height:"2",width:"2"}))},close:{label:(0,p._x)("Close","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",height:"12",width:"12"},(0,l.createElement)("rect",{fill:"currentColor",transform:"rotate(-45 0 11.3137)",rx:"0.5",height:"1",width:"16",y:"11.3137"}),(0,l.createElement)("rect",{fill:"currentColor",transform:"matrix(-0.707107 -0.707107 -0.707107 0.707107 12 11.3137)",rx:"0.5",height:"1",width:"16"}))}},Xr={arrowLeftLight:{label:(0,p._x)("Arrow Left Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"}))},arrowLeftRounded:{label:(0,p._x)("Arrow Left Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"}))},arrowLeft:{label:(0,p._x)("Arrow Left","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"}))},arrowRightLight:{label:(0,p._x)("Arrow Right Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"}))},arrowRightRounded:{label:(0,p._x)("Arrow Right Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"}))},arrowRight:{label:(0,p._x)("Arrow Right","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"}))},caretLeftLight:{label:(0,p._x)("Caret Left Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))},caretLeftRound:{label:(0,p._x)("Caret Left Round","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))},caretLeft:{label:(0,p._x)("Caret Left","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))},caretRightLight:{label:(0,p._x)("Caret Right Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))},caretRightRound:{label:(0,p._x)("Caret Right Round","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))},caretRight:{label:(0,p._x)("Caret Right","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))},pauseOutlineLight:{label:(0,p._x)("Pause Outline Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,36H160a12,12,0,0,0-12,12V208a12,12,0,0,0,12,12h40a12,12,0,0,0,12-12V48A12,12,0,0,0,200,36Zm4,172a4,4,0,0,1-4,4H160a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4h40a4,4,0,0,1,4,4ZM96,36H56A12,12,0,0,0,44,48V208a12,12,0,0,0,12,12H96a12,12,0,0,0,12-12V48A12,12,0,0,0,96,36Zm4,172a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4H96a4,4,0,0,1,4,4Z"}))},pauseOutline:{label:(0,p._x)("Pause Outline","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,34H160a14,14,0,0,0-14,14V208a14,14,0,0,0,14,14h40a14,14,0,0,0,14-14V48A14,14,0,0,0,200,34Zm2,174a2,2,0,0,1-2,2H160a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2h40a2,2,0,0,1,2,2ZM96,34H56A14,14,0,0,0,42,48V208a14,14,0,0,0,14,14H96a14,14,0,0,0,14-14V48A14,14,0,0,0,96,34Zm2,174a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2H96a2,2,0,0,1,2,2Z"}))},pauseRounded:{label:(0,p._x)("Pause Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M216,48V208a16,16,0,0,1-16,16H160a16,16,0,0,1-16-16V48a16,16,0,0,1,16-16h40A16,16,0,0,1,216,48ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Z"}))},pause:{label:(0,p._x)("Pause","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,32H160a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm0,176H160V48h40ZM96,32H56A16,16,0,0,0,40,48V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V48A16,16,0,0,0,96,32Zm0,176H56V48H96Z"}))},playLeftOutlineLight:{label:(0,p._x)("Play Left Outline Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("g",{transform:"scale(-1,1) translate(-256,0)"},(0,l.createElement)("path",{d:"M230.32,117.9,86.24,29.79a11.91,11.91,0,0,0-12.17-.23A11.71,11.71,0,0,0,68,39.89V216.11a11.71,11.71,0,0,0,6.07,10.33,11.91,11.91,0,0,0,12.17-.23L230.32,138.1a11.82,11.82,0,0,0,0-20.2Zm-4.18,13.37L82.06,219.39a4,4,0,0,1-4.07.07,3.77,3.77,0,0,1-2-3.35V39.89a3.77,3.77,0,0,1,2-3.35,4,4,0,0,1,4.07.07l144.08,88.12a3.8,3.8,0,0,1,0,6.54Z"})))},playLeftOutline:{label:(0,p._x)("Play Left Outline","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("g",{transform:"scale(-1,1) translate(-256,0)"},(0,l.createElement)("path",{d:"M231.36,116.19,87.28,28.06a14,14,0,0,0-14.18-.27A13.69,13.69,0,0,0,66,39.87V216.13a13.69,13.69,0,0,0,7.1,12.08,14,14,0,0,0,14.18-.27l144.08-88.13a13.82,13.82,0,0,0,0-23.62Zm-6.26,13.38L81,217.7a2,2,0,0,1-2.06,0,1.78,1.78,0,0,1-1-1.61V39.87a1.78,1.78,0,0,1,1-1.61A2.06,2.06,0,0,1,80,38a2,2,0,0,1,1,.31L225.1,126.43a1.82,1.82,0,0,1,0,3.14Z"})))},playLeftRounded:{label:(0,p._x)("Play Left Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("g",{transform:"scale(-1,1) translate(-256,0)"},(0,l.createElement)("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"})))},playLeft:{label:(0,p._x)("Play Left","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("g",{transform:"scale(-1,1) translate(-256,0)"},(0,l.createElement)("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"})))},playRightOutlineLight:{label:(0,p._x)("Play Right Outline Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M230.32,117.9,86.24,29.79a11.91,11.91,0,0,0-12.17-.23A11.71,11.71,0,0,0,68,39.89V216.11a11.71,11.71,0,0,0,6.07,10.33,11.91,11.91,0,0,0,12.17-.23L230.32,138.1a11.82,11.82,0,0,0,0-20.2Zm-4.18,13.37L82.06,219.39a4,4,0,0,1-4.07.07,3.77,3.77,0,0,1-2-3.35V39.89a3.77,3.77,0,0,1,2-3.35,4,4,0,0,1,4.07.07l144.08,88.12a3.8,3.8,0,0,1,0,6.54Z"}))},playRightOutline:{label:(0,p._x)("Play Right Outline","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M231.36,116.19,87.28,28.06a14,14,0,0,0-14.18-.27A13.69,13.69,0,0,0,66,39.87V216.13a13.69,13.69,0,0,0,7.1,12.08,14,14,0,0,0,14.18-.27l144.08-88.13a13.82,13.82,0,0,0,0-23.62Zm-6.26,13.38L81,217.7a2,2,0,0,1-2.06,0,1.78,1.78,0,0,1-1-1.61V39.87a1.78,1.78,0,0,1,1-1.61A2.06,2.06,0,0,1,80,38a2,2,0,0,1,1,.31L225.1,126.43a1.82,1.82,0,0,1,0,3.14Z"}))},playRight:{label:(0,p._x)("Play Right","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M232.4,114.49,88.32,26.35a16,16,0,0,0-16.2-.3A15.86,15.86,0,0,0,64,39.87V216.13A15.94,15.94,0,0,0,80,232a16.07,16.07,0,0,0,8.36-2.35L232.4,141.51a15.81,15.81,0,0,0,0-27ZM80,215.94V40l143.83,88Z"}))},playRigntRounded:{label:(0,p._x)("Play Rignt Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M240,128a15.74,15.74,0,0,1-7.6,13.51L88.32,229.65a16,16,0,0,1-16.2.3A15.86,15.86,0,0,1,64,216.13V39.87a15.86,15.86,0,0,1,8.12-13.82,16,16,0,0,1,16.2.3L232.4,114.49A15.74,15.74,0,0,1,240,128Z"}))},skipLeftOutlineLight:{label:(0,p._x)("Skip Left Outline Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M197.87,37.52a12,12,0,0,0-12.18.32L60,116.44V40a4,4,0,0,0-8,0V216a4,4,0,0,0,8,0V139.56l125.69,78.6a12,12,0,0,0,12.18.32A11.69,11.69,0,0,0,204,208.12V47.88A11.69,11.69,0,0,0,197.87,37.52ZM196,208.12a3.8,3.8,0,0,1-2,3.37,4,4,0,0,1-4.06-.11L61.82,131.26a3.83,3.83,0,0,1,0-6.52L189.94,44.62a4,4,0,0,1,2.11-.62,4,4,0,0,1,1.95.51,3.8,3.8,0,0,1,2,3.37Z"}))},skipLeftOutline:{label:(0,p._x)("Skip Left Outline","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M198.84,35.77a14,14,0,0,0-14.21.37L62,112.83V40a6,6,0,0,0-12,0V216a6,6,0,0,0,12,0V143.16l122.63,76.7a14,14,0,0,0,14.21.37A13.69,13.69,0,0,0,206,208.12V47.88A13.69,13.69,0,0,0,198.84,35.77ZM194,208.12a1.79,1.79,0,0,1-1,1.62,2,2,0,0,1-2-.05L62.88,129.56a1.82,1.82,0,0,1,0-3.12L191,46.31a2,2,0,0,1,1-.31,2.1,2.1,0,0,1,1,.26,1.79,1.79,0,0,1,1,1.62Z"}))},skipLeftRounded:{label:(0,p._x)("Skip Left Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M208,47.88V208.12a16,16,0,0,1-24.43,13.43L64,146.77V216a8,8,0,0,1-16,0V40a8,8,0,0,1,16,0v69.23L183.57,34.45A15.95,15.95,0,0,1,208,47.88Z"}))},skipLeft:{label:(0,p._x)("Skip Left","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M199.81,34a16,16,0,0,0-16.24.43L64,109.23V40a8,8,0,0,0-16,0V216a8,8,0,0,0,16,0V146.77l119.57,74.78A15.95,15.95,0,0,0,208,208.12V47.88A15.86,15.86,0,0,0,199.81,34ZM192,208,64.16,128,192,48.07Z"}))},skipRightOutlineLight:{label:(0,p._x)("Skip Right Outline Light","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,36a4,4,0,0,0-4,4v76.44L70.31,37.84a12,12,0,0,0-12.18-.32A11.69,11.69,0,0,0,52,47.88V208.12a11.69,11.69,0,0,0,6.13,10.36,12,12,0,0,0,12.18-.32L196,139.56V216a4,4,0,0,0,8,0V40A4,4,0,0,0,200,36Zm-5.82,95.26L66.06,211.38a4,4,0,0,1-4.06.11,3.8,3.8,0,0,1-2-3.37V47.88a3.8,3.8,0,0,1,2-3.37A4,4,0,0,1,64,44a4,4,0,0,1,2.11.62l128.12,80.12a3.83,3.83,0,0,1,0,6.52Z"}))},skipRightOutline:{label:(0,p._x)("Skip Right Outline","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,34a6,6,0,0,0-6,6v72.84L71.37,36.14a14,14,0,0,0-14.21-.37A13.69,13.69,0,0,0,50,47.88V208.12a13.69,13.69,0,0,0,7.16,12.11,14,14,0,0,0,14.21-.37L194,143.17V216a6,6,0,0,0,12,0V40A6,6,0,0,0,200,34Zm-6.88,95.56L65,209.69a2,2,0,0,1-2,.05,1.79,1.79,0,0,1-1-1.62V47.88a1.79,1.79,0,0,1,1-1.62A2.1,2.1,0,0,1,64,46a2,2,0,0,1,1,.31l128.12,80.13a1.82,1.82,0,0,1,0,3.12Z"}))},skipRightRounded:{label:(0,p._x)("Skip Right Rounded","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M208,40V216a8,8,0,0,1-16,0V146.77L72.43,221.55A15.95,15.95,0,0,1,48,208.12V47.88A15.95,15.95,0,0,1,72.43,34.45L192,109.23V40a8,8,0,0,1,16,0Z"}))},skipRight:{label:(0,p._x)("Skip Right","label","generateblocks-pro"),icon:(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor"},(0,l.createElement)("path",{d:"M200,32a8,8,0,0,0-8,8v69.23L72.43,34.45A15.95,15.95,0,0,0,48,47.88V208.12a16,16,0,0,0,24.43,13.43L192,146.77V216a8,8,0,0,0,16,0V40A8,8,0,0,0,200,32ZM64,207.93V48.05l127.84,80Z"}))}};(0,e.addFilter)("generateblocks.editor.iconSVGSets","generateblocks-pro/icons/add-icons",(e=>({...e,mediumToggles:{group:(0,p.__)("Menu Toggles (Medium)","generateblocks-pro"),svgs:Yr},lightToggles:{group:(0,p.__)("Menu Toggles (Light)","generateblocks-pro"),svgs:Jr},carousel:{group:(0,p.__)("Carousel","generateblocks-pro"),svgs:Xr}}))),(0,e.addFilter)("generateblocks.blockSettings.openPanel","generateblocks-pro/looper-carousel-toggle",(function(e,t){const{panelId:r,name:n,attributes:a,setAttributes:o}=t;if("generateblocks/looper"!==n)return e;if("settings"!==r)return e;const s=document.querySelector('iframe[name="editor-canvas"]'),i=(s?.contentDocument||document).querySelector('.is-selected[data-type="generateblocks/looper"]');if(!i)return e;if(!i.closest(".gb-carousel"))return e;const c=a.className||"",u=c.includes("gb-carousel-items");return(0,l.createElement)(l.Fragment,null,e,(0,l.createElement)(g.ToggleControl,{label:(0,p.__)("Use as Carousel Items","generateblocks-pro"),help:(0,p.__)("Enable this Looper to act as carousel slides.","generateblocks-pro"),checked:u,onChange:e=>{let t=c;e?u||(t=c?c+" gb-carousel-items":"gb-carousel-items"):t=c.replace(/\s*gb-carousel-items\s*/g," ").trim(),o({className:t})}}))}),15),(0,e.addFilter)("editor.BlockEdit","generateblocks-pro/loop-item-carousel-sync",(function(e){return function(r){const{name:n,attributes:a,setAttributes:o,clientId:s}=r,i="generateblocks/loop-item"===n,c=(0,t.useSelect)((e=>{if(!i)return null;const{getBlockParentsByBlockName:t,getBlock:r}=e("core/block-editor"),n=t(s,"generateblocks/looper",!0);return n&&n.length>0?r(n[0]):null}),[s,i]);return(0,m.useEffect)((()=>{if(!i||!c)return;const e=(c.attributes.className||"").includes("gb-carousel-items"),t=a.className||"",r=t.includes("gb-carousel-item");if(e&&!r)o({className:(t?t+" gb-carousel-item":"gb-carousel-item").trim()});else if(!e&&r){const e=t.replace(/\s*gb-carousel-item\s*/g," ").trim();o({className:e})}}),[c,a.className,o,i]),(0,l.createElement)(e,{...r})}}),20)})()})();